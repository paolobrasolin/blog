<!DOCTYPE html>
<html lang="en-US">
  <head>
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34703595-2"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-34703595-2');
      </script>
    
    <meta charset="UTF-8">
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Three views of a monad | Paolo Brasolin</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Three views of a monad" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I once tried proving convincing myself of the equivalence of different implementations of a monad using Haskell and pseudocode. It was unconvincing and extremely tedious, so I gave up pretty soon. Now that I have some AGDA under my belt I can have some sweet revenge." />
<meta property="og:description" content="I once tried proving convincing myself of the equivalence of different implementations of a monad using Haskell and pseudocode. It was unconvincing and extremely tedious, so I gave up pretty soon. Now that I have some AGDA under my belt I can have some sweet revenge." />
<link rel="canonical" href="https://paolobrasolin.github.io//three-views-of-a-monad.lagda.html" />
<meta property="og:url" content="https://paolobrasolin.github.io//three-views-of-a-monad.lagda.html" />
<meta property="og:site_name" content="Paolo Brasolin" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-11-09T00:00:00+00:00" />
<script type="application/ld+json">
{"description":"I once tried proving convincing myself of the equivalence of different implementations of a monad using Haskell and pseudocode. It was unconvincing and extremely tedious, so I gave up pretty soon. Now that I have some AGDA under my belt I can have some sweet revenge.","url":"https://paolobrasolin.github.io//three-views-of-a-monad.lagda.html","@type":"BlogPosting","headline":"Three views of a monad","dateModified":"2020-11-09T00:00:00+00:00","datePublished":"2020-11-09T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://paolobrasolin.github.io//three-views-of-a-monad.lagda.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="stylesheet" href="/lagda/Agda.css?v=">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body,{macros:{ '':'','\\id': '\\mathrm{id}','\\Obj': '\\mathrm{Obj}','\\Hom': '\\mathrm{Hom}', },delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}]});"></script>

  </head>

  <body>
    <header id="header">
      <nav>
        <a href="/">Back to index.</a>
        <a href="#footer">What's this?</a>
      </nav>
    </header>

    <main>
      <article>
    09 Nov 2020
    <h1>Three views of a monad</h1>
    <p>I once tried <del>proving</del> convincing myself of the equivalence of different implementations of a monad using Haskell and pseudocode.
It was unconvincing and extremely tedious, so I gave up pretty soon.
Now that I have some AGDA under my belt I can have some sweet revenge.</p>

<p>Shout out to <a href="https://twitter.com/ququ7">Fosco</a> for helping me iron out a few kinks in the proofs.</p>

<p>Note that this article is literate AGDA: you can load and execute its <a href="https://github.com/paolobrasolin/paolobrasolin.github.io/blob/jekyll/_posts/2020-11-09-three-views-of-a-monad.lagda.md">sourcecode</a>.</p>

<pre class="Agda"><a id="743" class="Keyword">open</a> <a id="748" class="Keyword">import</a> <a id="755" href="/lagda/Function.html" class="Module">Function</a>
<a id="764" class="Keyword">open</a> <a id="769" class="Keyword">import</a> <a id="776" href="/lagda/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="814" class="Keyword">open</a> <a id="819" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Relation.Binary.PropositionalEquality.≡-Reasoning</a>
</pre>

<h2 id="mathematicians-monads">Mathematicians’ monads</h2>

<p>First things first, what’s a monad to a mathematician?</p>

<p>A <strong>monad</strong> $\langle M,\eta,\mu\rangle$ in a category $C$ is a functor $M:C\to C$ together with two natural transformations, the unit $\eta:\id_C\to M$ and the multiplication $\mu:M^2\to M$, such that the diagrams expressing associativity and unit laws commute:</p>

<p><span class="antex display"><img style='margin: 0.001ex 0.087ex -0.035ex 0.0ex; height: 15.473ex; width: 42.902ex;' src="/antex/1a43c360d27c23c377c5161418be23d0.svg" /></span></p>

<p>This definition is exhaustive but a little terse.
We need to implement it, so let’s unpack it a little bit.</p>

<p>$M:C\to C$ needs to be a functor, which means that:</p>
<ul>
  <li>it maps each object $X$ in $C$ to an object $M(X)$ in $C$;</li>
  <li>it maps each morphism $f:X\to Y$ in $C$ to a morphism $M(f):M(X)\to M(Y)$ in $C$;</li>
  <li>it preserves identities, i.e. $M(\id_X)=\id_{M(X)}$ for every object $X$ in $C$;</li>
  <li>it preserves composition, i.e. $M(f\circ g)=M(f)\circ M(g)$ for every pair of composable morphisms $f$, $g$ in $C$.</li>
</ul>

<p>$\eta:\id_C\to M$ needs to be a natural transformation, which means that:</p>
<ul>
  <li>it maps each object $X$ in $C$ to a morpism $\eta_X:\id_C(X)\to M(X)$;</li>
  <li>$\eta_Y\circ f=M(f)\circ\eta_X$ for every morphism $f:X\to Y$ in $C$.</li>
</ul>

<p>$\mu:M^2\to M$ needs to be a natural transformation, which means that:</p>
<ul>
  <li>it maps each object $X$ in $C$ to a morpism $\mu_X:M(M(X))\to M(X)$;</li>
  <li>$\mu_Y\circ M(M(f))=M(f)\circ\mu_X$ for every morphism $f:X\to Y$ in $C$.</li>
</ul>

<p>The commutative diagrams expressing associativity and unit laws can be redrawn making the customary notation for natural transformations explicit:</p>

<p><span class="antex display"><img style='margin: 0.0ex 0.262ex -0.036ex 0.0ex; height: 14.745ex; width: 77.996ex;' src="/antex/6c4f2d2c037426657e0f1885b72524a7.svg" /></span></p>

<p>for every object $X$ in $C$.
Translating diagrams into equations,</p>
<ul>
  <li>$\mu_X\circ M(\mu_X)=\mu_X\circ\mu_{M(X)}$ for every object $X$ in $C$;</li>
  <li>$\mu_X\circ M(\eta_X)=\id_{M(X)}$ for every object $X$ in $C$;</li>
  <li>$\mu_X\circ \eta_{M(X)}=\id_{M(X)}$ for every object $X$ in $C$.</li>
</ul>

<p>Everything is unpacked now and we just need to transcribe it into an AGDA type.
In the code $\mu$, $\eta$ and the action of $M$ on morphisms will be named <code class="language-plaintext highlighter-rouge">mult</code>, <code class="language-plaintext highlighter-rouge">unit</code> and <code class="language-plaintext highlighter-rouge">fmap</code>, respectively.
Here’s the result:</p>

<pre class="Agda"><a id="3731" class="Keyword">record</a> <a id="MathMon"></a><a id="3738" href="#3738" class="Record">MathMon</a> <a id="3746" class="Symbol">(</a><a id="3747" href="#3747" class="Bound">M</a> <a id="3749" class="Symbol">:</a> <a id="3751" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="3755" class="Symbol">→</a> <a id="3757" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="3760" class="Symbol">)</a> <a id="3762" class="Symbol">:</a> <a id="3764" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set₁</a> <a id="3769" class="Keyword">where</a>
  <a id="3777" class="Keyword">field</a>
    <a id="MathMon.fmap"></a><a id="3787" href="#3787" class="Field">fmap</a> <a id="3792" class="Symbol">:</a> <a id="3794" class="Symbol">{</a><a id="3795" href="#3795" class="Bound">A</a> <a id="3797" href="#3797" class="Bound">B</a> <a id="3799" class="Symbol">:</a> <a id="3801" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="3804" class="Symbol">}</a> <a id="3806" class="Symbol">→</a> <a id="3808" class="Symbol">(</a><a id="3809" href="#3795" class="Bound">A</a> <a id="3811" class="Symbol">→</a> <a id="3813" href="#3797" class="Bound">B</a><a id="3814" class="Symbol">)</a> <a id="3816" class="Symbol">→</a> <a id="3818" href="#3747" class="Bound">M</a> <a id="3820" href="#3795" class="Bound">A</a> <a id="3822" class="Symbol">→</a> <a id="3824" href="#3747" class="Bound">M</a> <a id="3826" href="#3797" class="Bound">B</a>
    <a id="MathMon.unit"></a><a id="3832" href="#3832" class="Field">unit</a> <a id="3837" class="Symbol">:</a> <a id="3839" class="Symbol">{</a><a id="3840" href="#3840" class="Bound">A</a> <a id="3842" class="Symbol">:</a> <a id="3844" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="3847" class="Symbol">}</a> <a id="3849" class="Symbol">→</a> <a id="3851" href="#3840" class="Bound">A</a> <a id="3853" class="Symbol">→</a> <a id="3855" href="#3747" class="Bound">M</a> <a id="3857" href="#3840" class="Bound">A</a>
    <a id="MathMon.mult"></a><a id="3863" href="#3863" class="Field">mult</a> <a id="3868" class="Symbol">:</a> <a id="3870" class="Symbol">{</a><a id="3871" href="#3871" class="Bound">A</a> <a id="3873" class="Symbol">:</a> <a id="3875" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="3878" class="Symbol">}</a> <a id="3880" class="Symbol">→</a> <a id="3882" href="#3747" class="Bound">M</a> <a id="3884" class="Symbol">(</a><a id="3885" href="#3747" class="Bound">M</a> <a id="3887" href="#3871" class="Bound">A</a><a id="3888" class="Symbol">)</a> <a id="3890" class="Symbol">→</a> <a id="3892" href="#3747" class="Bound">M</a> <a id="3894" href="#3871" class="Bound">A</a>
    <a id="3900" class="Comment">-- functoriality</a>
    <a id="MathMon.fun-idty"></a><a id="3921" href="#3921" class="Field">fun-idty</a> <a id="3930" class="Symbol">:</a> <a id="3932" class="Symbol">∀</a> <a id="3934" class="Symbol">{</a><a id="3935" href="#3935" class="Bound">A</a> <a id="3937" class="Symbol">:</a> <a id="3939" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="3942" class="Symbol">}</a> <a id="3944" class="Symbol">→</a> <a id="3946" href="#3787" class="Field">fmap</a> <a id="3951" class="Symbol">{</a><a id="3952" href="#3935" class="Bound">A</a><a id="3953" class="Symbol">}</a> <a id="3955" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="3958" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="3960" href="/lagda/Function.Base.html#615" class="Function">id</a>
    <a id="MathMon.fun-comp"></a><a id="3967" href="#3967" class="Field">fun-comp</a> <a id="3976" class="Symbol">:</a> <a id="3978" class="Symbol">∀</a> <a id="3980" class="Symbol">{</a><a id="3981" href="#3981" class="Bound">A</a> <a id="3983" href="#3983" class="Bound">B</a> <a id="3985" href="#3985" class="Bound">C</a> <a id="3987" class="Symbol">:</a> <a id="3989" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="3992" class="Symbol">}</a> <a id="3994" class="Symbol">{</a><a id="3995" href="#3995" class="Bound">f</a> <a id="3997" class="Symbol">:</a> <a id="3999" href="#3983" class="Bound">B</a> <a id="4001" class="Symbol">→</a> <a id="4003" href="#3985" class="Bound">C</a><a id="4004" class="Symbol">}</a> <a id="4006" class="Symbol">{</a><a id="4007" href="#4007" class="Bound">g</a> <a id="4009" class="Symbol">:</a> <a id="4011" href="#3981" class="Bound">A</a> <a id="4013" class="Symbol">→</a> <a id="4015" href="#3983" class="Bound">B</a><a id="4016" class="Symbol">}</a> <a id="4018" class="Symbol">→</a> <a id="4020" href="#3787" class="Field">fmap</a> <a id="4025" class="Symbol">(</a><a id="4026" href="#3995" class="Bound">f</a> <a id="4028" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4030" href="#4007" class="Bound">g</a><a id="4031" class="Symbol">)</a> <a id="4033" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="4035" class="Symbol">(</a><a id="4036" href="#3787" class="Field">fmap</a> <a id="4041" href="#3995" class="Bound">f</a><a id="4042" class="Symbol">)</a> <a id="4044" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4046" class="Symbol">(</a><a id="4047" href="#3787" class="Field">fmap</a> <a id="4052" href="#4007" class="Bound">g</a><a id="4053" class="Symbol">)</a>
    <a id="4059" class="Comment">-- naturality</a>
    <a id="MathMon.nat-unit"></a><a id="4077" href="#4077" class="Field">nat-unit</a> <a id="4086" class="Symbol">:</a> <a id="4088" class="Symbol">∀</a> <a id="4090" class="Symbol">{</a><a id="4091" href="#4091" class="Bound">A</a> <a id="4093" href="#4093" class="Bound">B</a> <a id="4095" class="Symbol">:</a> <a id="4097" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="4100" class="Symbol">}</a> <a id="4102" class="Symbol">{</a><a id="4103" href="#4103" class="Bound">f</a> <a id="4105" class="Symbol">:</a> <a id="4107" href="#4091" class="Bound">A</a> <a id="4109" class="Symbol">→</a> <a id="4111" href="#4093" class="Bound">B</a><a id="4112" class="Symbol">}</a> <a id="4114" class="Symbol">→</a> <a id="4116" class="Symbol">(</a><a id="4117" href="#3787" class="Field">fmap</a> <a id="4122" href="#4103" class="Bound">f</a><a id="4123" class="Symbol">)</a> <a id="4125" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4127" href="#3832" class="Field">unit</a> <a id="4132" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="4134" href="#3832" class="Field">unit</a> <a id="4139" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4141" href="#4103" class="Bound">f</a>
    <a id="MathMon.nat-mult"></a><a id="4147" href="#4147" class="Field">nat-mult</a> <a id="4156" class="Symbol">:</a> <a id="4158" class="Symbol">∀</a> <a id="4160" class="Symbol">{</a><a id="4161" href="#4161" class="Bound">A</a> <a id="4163" href="#4163" class="Bound">B</a> <a id="4165" class="Symbol">:</a> <a id="4167" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="4170" class="Symbol">}</a> <a id="4172" class="Symbol">{</a><a id="4173" href="#4173" class="Bound">f</a> <a id="4175" class="Symbol">:</a> <a id="4177" href="#4161" class="Bound">A</a> <a id="4179" class="Symbol">→</a> <a id="4181" href="#4163" class="Bound">B</a><a id="4182" class="Symbol">}</a> <a id="4184" class="Symbol">→</a> <a id="4186" class="Symbol">(</a><a id="4187" href="#3787" class="Field">fmap</a> <a id="4192" href="#4173" class="Bound">f</a><a id="4193" class="Symbol">)</a> <a id="4195" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4197" href="#3863" class="Field">mult</a> <a id="4202" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="4204" href="#3863" class="Field">mult</a> <a id="4209" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4211" href="#3787" class="Field">fmap</a> <a id="4216" class="Symbol">(</a><a id="4217" href="#3787" class="Field">fmap</a> <a id="4222" href="#4173" class="Bound">f</a><a id="4223" class="Symbol">)</a>
    <a id="4229" class="Comment">-- monadicity</a>
    <a id="MathMon.unitˡ"></a><a id="4247" href="#4247" class="Field">unitˡ</a> <a id="4253" class="Symbol">:</a> <a id="4255" class="Symbol">∀</a> <a id="4257" class="Symbol">{</a><a id="4258" href="#4258" class="Bound">A</a> <a id="4260" class="Symbol">:</a> <a id="4262" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="4265" class="Symbol">}</a> <a id="4267" class="Symbol">→</a> <a id="4269" href="#3863" class="Field">mult</a> <a id="4274" class="Symbol">{</a><a id="4275" href="#4258" class="Bound">A</a><a id="4276" class="Symbol">}</a> <a id="4278" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4280" href="#3832" class="Field">unit</a> <a id="4285" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="4287" href="/lagda/Function.Base.html#615" class="Function">id</a>
    <a id="MathMon.unitʳ"></a><a id="4294" href="#4294" class="Field">unitʳ</a> <a id="4300" class="Symbol">:</a> <a id="4302" class="Symbol">∀</a> <a id="4304" class="Symbol">{</a><a id="4305" href="#4305" class="Bound">A</a> <a id="4307" class="Symbol">:</a> <a id="4309" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="4312" class="Symbol">}</a> <a id="4314" class="Symbol">→</a> <a id="4316" href="#3863" class="Field">mult</a> <a id="4321" class="Symbol">{</a><a id="4322" href="#4305" class="Bound">A</a><a id="4323" class="Symbol">}</a> <a id="4325" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4327" href="#3787" class="Field">fmap</a> <a id="4332" href="#3832" class="Field">unit</a> <a id="4337" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="4339" href="/lagda/Function.Base.html#615" class="Function">id</a>
    <a id="MathMon.assoc"></a><a id="4346" href="#4346" class="Field">assoc</a> <a id="4352" class="Symbol">:</a> <a id="4354" class="Symbol">∀</a> <a id="4356" class="Symbol">{</a><a id="4357" href="#4357" class="Bound">A</a> <a id="4359" class="Symbol">:</a> <a id="4361" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="4364" class="Symbol">}</a> <a id="4366" class="Symbol">→</a> <a id="4368" href="#3863" class="Field">mult</a> <a id="4373" class="Symbol">{</a><a id="4374" href="#4357" class="Bound">A</a><a id="4375" class="Symbol">}</a> <a id="4377" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4379" href="#3787" class="Field">fmap</a> <a id="4384" href="#3863" class="Field">mult</a> <a id="4389" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="4391" href="#3863" class="Field">mult</a> <a id="4396" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="4398" href="#3863" class="Field">mult</a>
</pre>

<h2 id="programmers-monads">Programmers’ monads</h2>

<p>Programmers tipically use a terser definition of monad.</p>

<p>To an Haskeller, a monad is simply this type class:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">class</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="kr">where</span>
  <span class="n">return</span> <span class="o">::</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">a</span>
  <span class="p">(</span><span class="o">&gt;&gt;=</span><span class="p">)</span> <span class="o">::</span> <span class="n">m</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span> <span class="c1">-- pronounced "bind"</span>
</code></pre></div></div>

<p>The programmer must also ensure that the following properties expressed in pseudocode hold for any <code class="language-plaintext highlighter-rouge">Monad</code> instance she implements:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">return</span> <span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="n">f</span> <span class="o">=</span> <span class="n">f</span> <span class="n">x</span>                      <span class="c1">-- left unit</span>
<span class="n">m</span> <span class="o">&gt;&gt;=</span> <span class="n">return</span> <span class="o">=</span> <span class="n">m</span>                          <span class="c1">-- right unit</span>
<span class="p">(</span><span class="n">m</span> <span class="o">&gt;&gt;=</span> <span class="n">f</span><span class="p">)</span> <span class="o">&gt;&gt;=</span> <span class="n">g</span> <span class="o">=</span> <span class="n">m</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">f</span> <span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="n">g</span><span class="p">)</span> <span class="c1">-- associativity</span>
</code></pre></div></div>

<p>These properties are related to the monad laws we have seen before.</p>

<p>We have all we need to define an AGDA type for the programmers’ definition of a monad:</p>

<pre class="Agda"><a id="5143" class="Keyword">record</a> <a id="ProgMon"></a><a id="5150" href="#5150" class="Record">ProgMon</a> <a id="5158" class="Symbol">(</a><a id="5159" href="#5159" class="Bound">M</a> <a id="5161" class="Symbol">:</a> <a id="5163" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="5167" class="Symbol">→</a> <a id="5169" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="5172" class="Symbol">)</a> <a id="5174" class="Symbol">:</a> <a id="5176" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set₁</a> <a id="5181" class="Keyword">where</a>
  <a id="5189" class="Keyword">field</a>
    <a id="ProgMon.return"></a><a id="5199" href="#5199" class="Field">return</a> <a id="5206" class="Symbol">:</a> <a id="5208" class="Symbol">{</a><a id="5209" href="#5209" class="Bound">A</a> <a id="5211" class="Symbol">:</a> <a id="5213" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="5216" class="Symbol">}</a> <a id="5218" class="Symbol">→</a> <a id="5220" href="#5209" class="Bound">A</a> <a id="5222" class="Symbol">-&gt;</a> <a id="5225" href="#5159" class="Bound">M</a> <a id="5227" href="#5209" class="Bound">A</a>
    <a id="ProgMon._&gt;&gt;=_"></a><a id="5233" href="#5233" class="Field Operator">_&gt;&gt;=_</a> <a id="5239" class="Symbol">:</a> <a id="5241" class="Symbol">{</a><a id="5242" href="#5242" class="Bound">A</a> <a id="5244" href="#5244" class="Bound">B</a> <a id="5246" class="Symbol">:</a> <a id="5248" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="5251" class="Symbol">}</a> <a id="5253" class="Symbol">→</a> <a id="5255" href="#5159" class="Bound">M</a> <a id="5257" href="#5242" class="Bound">A</a> <a id="5259" class="Symbol">→</a> <a id="5261" class="Symbol">(</a><a id="5262" href="#5242" class="Bound">A</a> <a id="5264" class="Symbol">→</a> <a id="5266" href="#5159" class="Bound">M</a> <a id="5268" href="#5244" class="Bound">B</a><a id="5269" class="Symbol">)</a> <a id="5271" class="Symbol">-&gt;</a> <a id="5274" href="#5159" class="Bound">M</a> <a id="5276" href="#5244" class="Bound">B</a>
    <a id="5282" class="Comment">-- monadicity</a>
    <a id="ProgMon.unitˡ"></a><a id="5300" href="#5300" class="Field">unitˡ</a> <a id="5306" class="Symbol">:</a> <a id="5308" class="Symbol">∀</a> <a id="5310" class="Symbol">{</a><a id="5311" href="#5311" class="Bound">A</a> <a id="5313" href="#5313" class="Bound">B</a> <a id="5315" class="Symbol">:</a> <a id="5317" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="5320" class="Symbol">}</a> <a id="5322" class="Symbol">{</a><a id="5323" href="#5323" class="Bound">x</a> <a id="5325" class="Symbol">:</a> <a id="5327" href="#5311" class="Bound">A</a><a id="5328" class="Symbol">}</a> <a id="5330" class="Symbol">{</a><a id="5331" href="#5331" class="Bound">f</a> <a id="5333" class="Symbol">:</a> <a id="5335" href="#5311" class="Bound">A</a> <a id="5337" class="Symbol">→</a> <a id="5339" href="#5159" class="Bound">M</a> <a id="5341" href="#5313" class="Bound">B</a><a id="5342" class="Symbol">}</a>
      <a id="5350" class="Symbol">→</a> <a id="5352" class="Symbol">(</a><a id="5353" href="#5199" class="Field">return</a> <a id="5360" href="#5323" class="Bound">x</a><a id="5361" class="Symbol">)</a> <a id="5363" href="#5233" class="Field Operator">&gt;&gt;=</a> <a id="5367" href="#5331" class="Bound">f</a> <a id="5369" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="5371" href="#5331" class="Bound">f</a> <a id="5373" href="#5323" class="Bound">x</a>
    <a id="ProgMon.unitʳ"></a><a id="5379" href="#5379" class="Field">unitʳ</a> <a id="5385" class="Symbol">:</a> <a id="5387" class="Symbol">∀</a> <a id="5389" class="Symbol">{</a><a id="5390" href="#5390" class="Bound">A</a> <a id="5392" class="Symbol">:</a> <a id="5394" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="5397" class="Symbol">}</a> <a id="5399" class="Symbol">{</a><a id="5400" href="#5400" class="Bound">m</a> <a id="5402" class="Symbol">:</a> <a id="5404" href="#5159" class="Bound">M</a> <a id="5406" href="#5390" class="Bound">A</a><a id="5407" class="Symbol">}</a>
      <a id="5415" class="Symbol">→</a> <a id="5417" href="#5400" class="Bound">m</a> <a id="5419" href="#5233" class="Field Operator">&gt;&gt;=</a> <a id="5423" href="#5199" class="Field">return</a> <a id="5430" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="5432" href="#5400" class="Bound">m</a>
    <a id="ProgMon.assoc"></a><a id="5438" href="#5438" class="Field">assoc</a> <a id="5444" class="Symbol">:</a> <a id="5446" class="Symbol">∀</a> <a id="5448" class="Symbol">{</a><a id="5449" href="#5449" class="Bound">A</a> <a id="5451" href="#5451" class="Bound">B</a> <a id="5453" href="#5453" class="Bound">C</a> <a id="5455" class="Symbol">:</a> <a id="5457" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="5460" class="Symbol">}</a> <a id="5462" class="Symbol">{</a><a id="5463" href="#5463" class="Bound">m</a> <a id="5465" class="Symbol">:</a> <a id="5467" href="#5159" class="Bound">M</a> <a id="5469" href="#5449" class="Bound">A</a><a id="5470" class="Symbol">}</a> <a id="5472" class="Symbol">{</a><a id="5473" href="#5473" class="Bound">f</a> <a id="5475" class="Symbol">:</a> <a id="5477" href="#5449" class="Bound">A</a> <a id="5479" class="Symbol">→</a> <a id="5481" href="#5159" class="Bound">M</a> <a id="5483" href="#5451" class="Bound">B</a><a id="5484" class="Symbol">}</a> <a id="5486" class="Symbol">{</a><a id="5487" href="#5487" class="Bound">g</a> <a id="5489" class="Symbol">:</a> <a id="5491" href="#5451" class="Bound">B</a> <a id="5493" class="Symbol">→</a> <a id="5495" href="#5159" class="Bound">M</a> <a id="5497" href="#5453" class="Bound">C</a><a id="5498" class="Symbol">}</a>
      <a id="5506" class="Symbol">→</a> <a id="5508" class="Symbol">(</a><a id="5509" href="#5463" class="Bound">m</a> <a id="5511" href="#5233" class="Field Operator">&gt;&gt;=</a> <a id="5515" href="#5473" class="Bound">f</a><a id="5516" class="Symbol">)</a> <a id="5518" href="#5233" class="Field Operator">&gt;&gt;=</a> <a id="5522" href="#5487" class="Bound">g</a> <a id="5524" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="5526" href="#5463" class="Bound">m</a> <a id="5528" href="#5233" class="Field Operator">&gt;&gt;=</a> <a id="5532" class="Symbol">λ{</a><a id="5534" href="#5534" class="Bound">x</a> <a id="5536" class="Symbol">→</a> <a id="5538" href="#5473" class="Bound">f</a> <a id="5540" href="#5534" class="Bound">x</a> <a id="5542" href="#5233" class="Field Operator">&gt;&gt;=</a> <a id="5546" href="#5487" class="Bound">g</a><a id="5547" class="Symbol">}</a>
</pre>

<h2 id="mathematicians-vs-programmers">Mathematicians VS programmers</h2>

<p>We expect the two definitions to be equivalent.</p>

<p>To prove that we can build a <code class="language-plaintext highlighter-rouge">ProgMon</code> from a <code class="language-plaintext highlighter-rouge">MathMon</code> and vice versa, we need to know how to relate <code class="language-plaintext highlighter-rouge">return</code> and <code class="language-plaintext highlighter-rouge">&gt;&gt;=</code> with <code class="language-plaintext highlighter-rouge">fmap</code>, <code class="language-plaintext highlighter-rouge">unit</code> and <code class="language-plaintext highlighter-rouge">mult</code>.</p>

<p>By either reading around or trying to fill holes in AGDA you’ll find out:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- return and &gt;&gt;= can be expressed using fmap, unit and mult as follows:</span>
<span class="n">return</span> <span class="n">x</span> <span class="o">=</span> <span class="n">unit</span> <span class="n">x</span>
<span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="n">f</span> <span class="o">=</span> <span class="n">mult</span> <span class="p">(</span><span class="n">fmap</span> <span class="n">f</span> <span class="n">x</span><span class="p">)</span>
<span class="c1">-- fmap, unit and mult can be expressed using return and &gt;&gt;= as follows:</span>
<span class="n">fmap</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="n">return</span> <span class="o">.</span> <span class="n">f</span><span class="p">)</span>
<span class="n">unit</span> <span class="n">x</span> <span class="o">=</span> <span class="n">return</span> <span class="n">x</span>
<span class="n">mult</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="n">id</span>
</code></pre></div></div>

<p>Knowing this we can start writing a proof.</p>

<pre class="Agda"><a id="MathMon→ProgMon"></a><a id="6193" href="#6193" class="Function">MathMon→ProgMon</a> <a id="6209" class="Symbol">:</a> <a id="6211" class="Symbol">{</a><a id="6212" href="#6212" class="Bound">M</a> <a id="6214" class="Symbol">:</a> <a id="6216" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="6220" class="Symbol">→</a> <a id="6222" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="6225" class="Symbol">}</a> <a id="6227" class="Symbol">→</a> <a id="6229" href="#3738" class="Record">MathMon</a> <a id="6237" href="#6212" class="Bound">M</a> <a id="6239" class="Symbol">→</a> <a id="6241" href="#5150" class="Record">ProgMon</a> <a id="6249" href="#6212" class="Bound">M</a>
<a id="6251" href="#6193" class="Function">MathMon→ProgMon</a> <a id="6267" class="Symbol">{</a><a id="6268" href="#6268" class="Bound">M</a><a id="6269" class="Symbol">}</a>
  <a id="6273" class="Keyword">record</a>
    <a id="6284" class="Symbol">{</a> <a id="6286" href="#3787" class="Field">fmap</a> <a id="6291" class="Symbol">=</a> <a id="6293" href="#6293" class="Bound">fmap</a>
    <a id="6302" class="Symbol">;</a> <a id="6304" href="#3832" class="Field">unit</a> <a id="6309" class="Symbol">=</a> <a id="6311" href="#6311" class="Bound">unit</a>
    <a id="6320" class="Symbol">;</a> <a id="6322" href="#3863" class="Field">mult</a> <a id="6327" class="Symbol">=</a> <a id="6329" href="#6329" class="Bound">mult</a>
    <a id="6338" class="Symbol">;</a> <a id="6340" href="#3967" class="Field">fun-comp</a> <a id="6349" class="Symbol">=</a> <a id="6351" href="#6351" class="Bound">fun-comp</a>
    <a id="6364" class="Symbol">;</a> <a id="6366" href="#3921" class="Field">fun-idty</a> <a id="6375" class="Symbol">=</a> <a id="6377" class="Symbol">_</a>
    <a id="6383" class="Symbol">;</a> <a id="6385" href="#4077" class="Field">nat-unit</a> <a id="6394" class="Symbol">=</a> <a id="6396" href="#6396" class="Bound">nat-unit</a>
    <a id="6409" class="Symbol">;</a> <a id="6411" href="#4147" class="Field">nat-mult</a> <a id="6420" class="Symbol">=</a> <a id="6422" href="#6422" class="Bound">nat-mult</a>
    <a id="6435" class="Symbol">;</a> <a id="6437" href="#4294" class="Field">unitʳ</a> <a id="6443" class="Symbol">=</a> <a id="6445" href="#6445" class="Bound">unitʳ</a>
    <a id="6455" class="Symbol">;</a> <a id="6457" href="#4247" class="Field">unitˡ</a> <a id="6463" class="Symbol">=</a> <a id="6465" href="#6465" class="Bound">unitˡ</a>
    <a id="6475" class="Symbol">;</a> <a id="6477" href="#4346" class="Field">assoc</a> <a id="6483" class="Symbol">=</a> <a id="6485" href="#6485" class="Bound">assoc</a>
    <a id="6495" class="Symbol">}</a>
  <a id="6499" class="Symbol">=</a>
  <a id="6503" class="Keyword">record</a>
    <a id="6514" class="Symbol">{</a> <a id="6516" href="#5199" class="Field">return</a> <a id="6523" class="Symbol">=</a> <a id="6525" href="#6311" class="Bound">unit</a>
    <a id="6534" class="Symbol">;</a> <a id="6536" href="#5233" class="Field Operator">_&gt;&gt;=_</a> <a id="6542" class="Symbol">=</a> <a id="6544" href="#7911" class="Function Operator">_&gt;&gt;=_</a>
    <a id="6554" class="Symbol">;</a> <a id="6556" href="#5300" class="Field">unitˡ</a> <a id="6562" class="Symbol">=</a> <a id="6564" class="Symbol">λ</a> <a id="6566" class="Symbol">{</a><a id="6567" href="#6567" class="Bound">_</a><a id="6568" class="Symbol">}</a> <a id="6570" class="Symbol">{</a><a id="6571" href="#6571" class="Bound">_</a><a id="6572" class="Symbol">}</a> <a id="6574" class="Symbol">{</a><a id="6575" href="#6575" class="Bound">x</a><a id="6576" class="Symbol">}</a> <a id="6578" class="Symbol">{</a><a id="6579" href="#6579" class="Bound">f</a><a id="6580" class="Symbol">}</a> <a id="6582" class="Symbol">→</a>
      <a id="6590" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="6604" class="Symbol">(</a><a id="6605" href="#6311" class="Bound">unit</a> <a id="6610" href="#6575" class="Bound">x</a><a id="6611" class="Symbol">)</a> <a id="6613" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="6617" href="#6579" class="Bound">f</a>          <a id="6628" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="6640" href="#6329" class="Bound">mult</a> <a id="6645" class="Symbol">(</a><a id="6646" href="#6293" class="Bound">fmap</a> <a id="6651" href="#6579" class="Bound">f</a> <a id="6653" class="Symbol">(</a><a id="6654" href="#6311" class="Bound">unit</a> <a id="6659" href="#6575" class="Bound">x</a><a id="6660" class="Symbol">))</a>  <a id="6664" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6667" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="6672" href="#6329" class="Bound">mult</a> <a id="6677" class="Symbol">(</a><a id="6678" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="6687" href="#6396" class="Bound">nat-unit</a> <a id="6696" href="#6575" class="Bound">x</a><a id="6697" class="Symbol">)</a> <a id="6699" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="6709" href="#6329" class="Bound">mult</a> <a id="6714" class="Symbol">(</a><a id="6715" href="#6311" class="Bound">unit</a> <a id="6720" class="Symbol">(</a><a id="6721" href="#6579" class="Bound">f</a> <a id="6723" href="#6575" class="Bound">x</a><a id="6724" class="Symbol">))</a>       <a id="6733" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="6745" class="Symbol">(</a><a id="6746" href="#6329" class="Bound">mult</a> <a id="6751" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="6753" href="#6311" class="Bound">unit</a><a id="6757" class="Symbol">)</a> <a id="6759" class="Symbol">(</a><a id="6760" href="#6579" class="Bound">f</a> <a id="6762" href="#6575" class="Bound">x</a><a id="6763" class="Symbol">)</a>     <a id="6769" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6772" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="6781" href="#6465" class="Bound">unitˡ</a> <a id="6787" class="Symbol">(</a><a id="6788" href="#6579" class="Bound">f</a> <a id="6790" href="#6575" class="Bound">x</a><a id="6791" class="Symbol">)</a> <a id="6793" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="6803" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="6806" class="Symbol">(</a><a id="6807" href="#6579" class="Bound">f</a> <a id="6809" href="#6575" class="Bound">x</a><a id="6810" class="Symbol">)</a>                <a id="6827" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="6839" href="#6579" class="Bound">f</a> <a id="6841" href="#6575" class="Bound">x</a>
      <a id="6849" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="6855" class="Symbol">;</a> <a id="6857" href="#5379" class="Field">unitʳ</a> <a id="6863" class="Symbol">=</a> <a id="6865" class="Symbol">λ</a> <a id="6867" class="Symbol">{</a><a id="6868" href="#6868" class="Bound">_</a><a id="6869" class="Symbol">}</a> <a id="6871" class="Symbol">{</a><a id="6872" href="#6872" class="Bound">m</a><a id="6873" class="Symbol">}</a> <a id="6875" class="Symbol">→</a>
      <a id="6883" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="6897" href="#6872" class="Bound">m</a> <a id="6899" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="6903" href="#6311" class="Bound">unit</a>            <a id="6919" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="6931" href="#6329" class="Bound">mult</a> <a id="6936" class="Symbol">(</a><a id="6937" href="#6293" class="Bound">fmap</a> <a id="6942" href="#6311" class="Bound">unit</a> <a id="6947" href="#6872" class="Bound">m</a><a id="6948" class="Symbol">)</a>    <a id="6953" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="6965" class="Symbol">(</a><a id="6966" href="#6329" class="Bound">mult</a> <a id="6971" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="6973" href="#6293" class="Bound">fmap</a> <a id="6978" href="#6311" class="Bound">unit</a><a id="6982" class="Symbol">)</a> <a id="6984" href="#6872" class="Bound">m</a>  <a id="6987" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="6990" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="6999" href="#6445" class="Bound">unitʳ</a> <a id="7005" href="#6872" class="Bound">m</a> <a id="7007" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="7017" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="7020" href="#6872" class="Bound">m</a>                  <a id="7039" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7051" href="#6872" class="Bound">m</a>
      <a id="7059" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="7065" class="Symbol">;</a> <a id="7067" href="#5438" class="Field">assoc</a> <a id="7073" class="Symbol">=</a> <a id="7075" class="Symbol">λ</a> <a id="7077" class="Symbol">{</a><a id="7078" href="#7078" class="Bound">_</a><a id="7079" class="Symbol">}</a> <a id="7081" class="Symbol">{</a><a id="7082" href="#7082" class="Bound">_</a><a id="7083" class="Symbol">}</a> <a id="7085" class="Symbol">{</a><a id="7086" href="#7086" class="Bound">_</a><a id="7087" class="Symbol">}</a> <a id="7089" class="Symbol">{</a><a id="7090" href="#7090" class="Bound">m</a><a id="7091" class="Symbol">}</a> <a id="7093" class="Symbol">{</a><a id="7094" href="#7094" class="Bound">f</a><a id="7095" class="Symbol">}</a> <a id="7097" class="Symbol">{</a><a id="7098" href="#7098" class="Bound">g</a><a id="7099" class="Symbol">}</a> <a id="7101" class="Symbol">→</a>
      <a id="7109" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="7123" class="Symbol">((</a><a id="7125" href="#7090" class="Bound">m</a> <a id="7127" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7131" href="#7094" class="Bound">f</a><a id="7132" class="Symbol">)</a> <a id="7134" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7138" href="#7098" class="Bound">g</a><a id="7139" class="Symbol">)</a>                         <a id="7165" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7177" class="Symbol">(</a><a id="7178" href="#6329" class="Bound">mult</a> <a id="7183" class="Symbol">(</a><a id="7184" href="#6293" class="Bound">fmap</a> <a id="7189" href="#7094" class="Bound">f</a> <a id="7191" href="#7090" class="Bound">m</a><a id="7192" class="Symbol">))</a> <a id="7195" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7199" href="#7098" class="Bound">g</a>                   <a id="7219" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7231" href="#6329" class="Bound">mult</a> <a id="7236" class="Symbol">(</a><a id="7237" href="#6293" class="Bound">fmap</a> <a id="7242" href="#7098" class="Bound">g</a> <a id="7244" class="Symbol">(</a><a id="7245" href="#6329" class="Bound">mult</a> <a id="7250" class="Symbol">(</a><a id="7251" href="#6293" class="Bound">fmap</a> <a id="7256" href="#7094" class="Bound">f</a> <a id="7258" href="#7090" class="Bound">m</a><a id="7259" class="Symbol">)))</a>           <a id="7273" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7285" class="Symbol">(</a><a id="7286" href="#6329" class="Bound">mult</a> <a id="7291" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7293" href="#6293" class="Bound">fmap</a> <a id="7298" href="#7098" class="Bound">g</a> <a id="7300" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7302" href="#6329" class="Bound">mult</a> <a id="7307" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7309" href="#6293" class="Bound">fmap</a> <a id="7314" href="#7094" class="Bound">f</a><a id="7315" class="Symbol">)</a> <a id="7317" href="#7090" class="Bound">m</a>         <a id="7327" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7330" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7335" href="#6329" class="Bound">mult</a> <a id="7340" class="Symbol">(</a><a id="7341" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="7350" href="#6422" class="Bound">nat-mult</a> <a id="7359" class="Symbol">(</a><a id="7360" href="#6293" class="Bound">fmap</a> <a id="7365" href="#7094" class="Bound">f</a> <a id="7367" href="#7090" class="Bound">m</a><a id="7368" class="Symbol">))</a> <a id="7371" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="7381" class="Symbol">(</a><a id="7382" href="#6329" class="Bound">mult</a> <a id="7387" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7389" href="#6329" class="Bound">mult</a> <a id="7394" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7396" href="#6293" class="Bound">fmap</a> <a id="7401" class="Symbol">(</a><a id="7402" href="#6293" class="Bound">fmap</a> <a id="7407" href="#7098" class="Bound">g</a><a id="7408" class="Symbol">)</a> <a id="7410" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7412" href="#6293" class="Bound">fmap</a> <a id="7417" href="#7094" class="Bound">f</a><a id="7418" class="Symbol">)</a> <a id="7420" href="#7090" class="Bound">m</a>  <a id="7423" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7426" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7431" class="Symbol">(</a><a id="7432" href="#6329" class="Bound">mult</a> <a id="7437" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7439" href="#6329" class="Bound">mult</a><a id="7443" class="Symbol">)</a> <a id="7445" class="Symbol">(</a><a id="7446" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="7455" class="Symbol">(</a><a id="7456" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7460" href="#6351" class="Bound">fun-comp</a><a id="7468" class="Symbol">)</a> <a id="7470" href="#7090" class="Bound">m</a><a id="7471" class="Symbol">)</a> <a id="7473" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="7483" class="Symbol">(</a><a id="7484" href="#6329" class="Bound">mult</a> <a id="7489" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7491" href="#6329" class="Bound">mult</a> <a id="7496" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7498" href="#6293" class="Bound">fmap</a> <a id="7503" class="Symbol">(</a><a id="7504" href="#6293" class="Bound">fmap</a> <a id="7509" href="#7098" class="Bound">g</a> <a id="7511" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7513" href="#7094" class="Bound">f</a><a id="7514" class="Symbol">))</a> <a id="7517" href="#7090" class="Bound">m</a>       <a id="7525" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7528" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="7537" class="Symbol">(</a><a id="7538" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7543" class="Symbol">(λ{</a><a id="7546" href="#7546" class="Bound">h</a> <a id="7548" class="Symbol">→</a> <a id="7550" href="#7546" class="Bound">h</a> <a id="7552" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7554" href="#6293" class="Bound">fmap</a> <a id="7559" class="Symbol">(</a><a id="7560" href="#6293" class="Bound">fmap</a> <a id="7565" href="#7098" class="Bound">g</a> <a id="7567" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7569" href="#7094" class="Bound">f</a><a id="7570" class="Symbol">)})</a> <a id="7574" class="Symbol">(</a><a id="7575" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7579" href="#6485" class="Bound">assoc</a><a id="7584" class="Symbol">))</a> <a id="7587" href="#7090" class="Bound">m</a> <a id="7589" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="7599" class="Symbol">(</a><a id="7600" href="#6329" class="Bound">mult</a> <a id="7605" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7607" href="#6293" class="Bound">fmap</a> <a id="7612" href="#6329" class="Bound">mult</a> <a id="7617" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7619" href="#6293" class="Bound">fmap</a> <a id="7624" class="Symbol">(</a><a id="7625" href="#6293" class="Bound">fmap</a> <a id="7630" href="#7098" class="Bound">g</a> <a id="7632" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7634" href="#7094" class="Bound">f</a><a id="7635" class="Symbol">))</a> <a id="7638" href="#7090" class="Bound">m</a>  <a id="7641" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7644" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7649" href="#6329" class="Bound">mult</a> <a id="7654" class="Symbol">(</a><a id="7655" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="7664" class="Symbol">(</a><a id="7665" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="7669" href="#6351" class="Bound">fun-comp</a><a id="7677" class="Symbol">)</a> <a id="7679" href="#7090" class="Bound">m</a><a id="7680" class="Symbol">)</a> <a id="7682" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="7692" class="Symbol">(</a><a id="7693" href="#6329" class="Bound">mult</a> <a id="7698" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7700" href="#6293" class="Bound">fmap</a> <a id="7705" class="Symbol">(</a><a id="7706" href="#6329" class="Bound">mult</a> <a id="7711" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7713" href="#6293" class="Bound">fmap</a> <a id="7718" href="#7098" class="Bound">g</a> <a id="7720" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7722" href="#7094" class="Bound">f</a><a id="7723" class="Symbol">))</a> <a id="7726" href="#7090" class="Bound">m</a>       <a id="7734" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7746" href="#7090" class="Bound">m</a> <a id="7748" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7752" class="Symbol">(</a><a id="7753" href="#6329" class="Bound">mult</a> <a id="7758" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7760" href="#6293" class="Bound">fmap</a> <a id="7765" href="#7098" class="Bound">g</a> <a id="7767" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7769" href="#7094" class="Bound">f</a><a id="7770" class="Symbol">)</a>                 <a id="7788" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7800" href="#7090" class="Bound">m</a> <a id="7802" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7806" class="Symbol">(λ{</a> <a id="7810" href="#7810" class="Bound">x</a> <a id="7812" class="Symbol">→</a> <a id="7814" class="Symbol">(</a><a id="7815" href="#6329" class="Bound">mult</a> <a id="7820" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7822" href="#6293" class="Bound">fmap</a> <a id="7827" href="#7098" class="Bound">g</a> <a id="7829" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="7831" href="#7094" class="Bound">f</a><a id="7832" class="Symbol">)</a> <a id="7834" href="#7810" class="Bound">x</a> <a id="7836" class="Symbol">})</a>    <a id="7842" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="7854" href="#7090" class="Bound">m</a> <a id="7856" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7860" class="Symbol">(λ{</a> <a id="7864" href="#7864" class="Bound">x</a> <a id="7866" class="Symbol">→</a> <a id="7868" href="#7094" class="Bound">f</a> <a id="7870" href="#7864" class="Bound">x</a> <a id="7872" href="#7911" class="Function Operator">&gt;&gt;=</a> <a id="7876" href="#7098" class="Bound">g</a> <a id="7878" class="Symbol">})</a>
      <a id="7887" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="7893" class="Symbol">}</a>
    <a id="7899" class="Keyword">where</a>
      <a id="7911" href="#7911" class="Function Operator">_&gt;&gt;=_</a> <a id="7917" class="Symbol">:</a> <a id="7919" class="Symbol">{</a><a id="7920" href="#7920" class="Bound">A</a> <a id="7922" href="#7922" class="Bound">B</a> <a id="7924" class="Symbol">:</a> <a id="7926" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="7929" class="Symbol">}</a> <a id="7931" class="Symbol">→</a> <a id="7933" href="#6268" class="Bound">M</a> <a id="7935" href="#7920" class="Bound">A</a> <a id="7937" class="Symbol">→</a> <a id="7939" class="Symbol">(</a><a id="7940" href="#7920" class="Bound">A</a> <a id="7942" class="Symbol">→</a> <a id="7944" href="#6268" class="Bound">M</a> <a id="7946" href="#7922" class="Bound">B</a><a id="7947" class="Symbol">)</a> <a id="7949" class="Symbol">-&gt;</a> <a id="7952" href="#6268" class="Bound">M</a> <a id="7954" href="#7922" class="Bound">B</a>
      <a id="7962" href="#7911" class="Function Operator">_&gt;&gt;=_</a> <a id="7968" href="#7968" class="Bound">x</a> <a id="7970" href="#7970" class="Bound">f</a> <a id="7972" class="Symbol">=</a> <a id="7974" href="#6329" class="Bound">mult</a> <a id="7979" class="Symbol">(</a><a id="7980" href="#6293" class="Bound">fmap</a> <a id="7985" href="#7970" class="Bound">f</a> <a id="7987" href="#7968" class="Bound">x</a><a id="7988" class="Symbol">)</a>
</pre>

<p>To prove the reverse implication we need to postulate extensionality, but that’s okay.</p>

<pre class="Agda"><a id="8092" class="Keyword">postulate</a>
  <a id="ext"></a><a id="8104" href="#8104" class="Postulate">ext</a> <a id="8108" class="Symbol">:</a> <a id="8110" class="Symbol">∀</a> <a id="8112" class="Symbol">{</a><a id="8113" href="#8113" class="Bound">A</a> <a id="8115" href="#8115" class="Bound">B</a> <a id="8117" class="Symbol">:</a> <a id="8119" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="8122" class="Symbol">}</a> <a id="8124" class="Symbol">{</a><a id="8125" href="#8125" class="Bound">f</a> <a id="8127" href="#8127" class="Bound">g</a> <a id="8129" class="Symbol">:</a> <a id="8131" href="#8113" class="Bound">A</a> <a id="8133" class="Symbol">→</a> <a id="8135" href="#8115" class="Bound">B</a><a id="8136" class="Symbol">}</a>
    <a id="8142" class="Symbol">→</a> <a id="8144" class="Symbol">(∀</a> <a id="8147" class="Symbol">{</a><a id="8148" href="#8148" class="Bound">x</a> <a id="8150" class="Symbol">:</a> <a id="8152" href="#8113" class="Bound">A</a><a id="8153" class="Symbol">}</a> <a id="8155" class="Symbol">→</a> <a id="8157" href="#8125" class="Bound">f</a> <a id="8159" href="#8148" class="Bound">x</a> <a id="8161" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="8163" href="#8127" class="Bound">g</a> <a id="8165" href="#8148" class="Bound">x</a><a id="8166" class="Symbol">)</a>
    <a id="8172" class="Symbol">→</a> <a id="8174" href="#8125" class="Bound">f</a> <a id="8176" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="8178" href="#8127" class="Bound">g</a>
</pre>
<p>This is a bit longer, so brace yourself.</p>

<pre class="Agda"><a id="ProgMon→MathMon"></a><a id="8235" href="#8235" class="Function">ProgMon→MathMon</a> <a id="8251" class="Symbol">:</a> <a id="8253" class="Symbol">{</a><a id="8254" href="#8254" class="Bound">M</a> <a id="8256" class="Symbol">:</a> <a id="8258" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="8262" class="Symbol">→</a> <a id="8264" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="8267" class="Symbol">}</a> <a id="8269" class="Symbol">→</a> <a id="8271" href="#5150" class="Record">ProgMon</a> <a id="8279" href="#8254" class="Bound">M</a> <a id="8281" class="Symbol">→</a> <a id="8283" href="#3738" class="Record">MathMon</a> <a id="8291" href="#8254" class="Bound">M</a>
<a id="8293" href="#8235" class="Function">ProgMon→MathMon</a> <a id="8309" class="Symbol">{</a><a id="8310" href="#8310" class="Bound">M</a><a id="8311" class="Symbol">}</a>
  <a id="8315" class="Keyword">record</a>
    <a id="8326" class="Symbol">{</a> <a id="8328" href="#5199" class="Field">return</a> <a id="8335" class="Symbol">=</a> <a id="8337" href="#8337" class="Bound">return</a>
    <a id="8348" class="Symbol">;</a> <a id="8350" href="#5233" class="Field Operator">_&gt;&gt;=_</a> <a id="8356" class="Symbol">=</a> <a id="8358" href="#8358" class="Bound Operator">_&gt;&gt;=_</a>
    <a id="8368" class="Symbol">;</a> <a id="8370" href="#5300" class="Field">unitˡ</a> <a id="8376" class="Symbol">=</a> <a id="8378" href="#8378" class="Bound">unitˡ</a>
    <a id="8388" class="Symbol">;</a> <a id="8390" href="#5379" class="Field">unitʳ</a> <a id="8396" class="Symbol">=</a> <a id="8398" href="#8398" class="Bound">unitʳ</a>
    <a id="8408" class="Symbol">;</a> <a id="8410" href="#5438" class="Field">assoc</a> <a id="8416" class="Symbol">=</a> <a id="8418" href="#8418" class="Bound">assoc</a>
    <a id="8428" class="Symbol">}</a>
  <a id="8432" class="Symbol">=</a>
  <a id="8436" class="Keyword">record</a>
    <a id="8447" class="Symbol">{</a> <a id="8449" href="#3787" class="Field">fmap</a> <a id="8454" class="Symbol">=</a> <a id="8456" href="#12252" class="Function">fmap</a>
    <a id="8465" class="Symbol">;</a> <a id="8467" href="#3832" class="Field">unit</a> <a id="8472" class="Symbol">=</a> <a id="8474" href="#8337" class="Bound">return</a>
    <a id="8485" class="Symbol">;</a> <a id="8487" href="#3863" class="Field">mult</a> <a id="8492" class="Symbol">=</a> <a id="8494" href="#12384" class="Function">mult</a>
    <a id="8503" class="Symbol">;</a> <a id="8505" href="#3967" class="Field">fun-comp</a> <a id="8514" class="Symbol">=</a> <a id="8516" class="Symbol">λ</a> <a id="8518" class="Symbol">{</a><a id="8519" href="#8519" class="Bound">_</a><a id="8520" class="Symbol">}</a> <a id="8522" class="Symbol">{</a><a id="8523" href="#8523" class="Bound">_</a><a id="8524" class="Symbol">}</a> <a id="8526" class="Symbol">{</a><a id="8527" href="#8527" class="Bound">_</a><a id="8528" class="Symbol">}</a> <a id="8530" class="Symbol">{</a><a id="8531" href="#8531" class="Bound">f</a><a id="8532" class="Symbol">}</a> <a id="8534" class="Symbol">{</a><a id="8535" href="#8535" class="Bound">g</a><a id="8536" class="Symbol">}</a> <a id="8538" class="Symbol">→</a>
      <a id="8546" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="8560" href="#12252" class="Function">fmap</a> <a id="8565" class="Symbol">(</a><a id="8566" href="#8531" class="Bound">f</a> <a id="8568" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8570" href="#8535" class="Bound">g</a><a id="8571" class="Symbol">)</a>                                           <a id="8615" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="8627" class="Symbol">(λ</a> <a id="8630" href="#8630" class="Bound">x</a> <a id="8632" class="Symbol">→</a> <a id="8634" href="#12252" class="Function">fmap</a> <a id="8639" class="Symbol">(</a><a id="8640" href="#8531" class="Bound">f</a> <a id="8642" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8644" href="#8535" class="Bound">g</a><a id="8645" class="Symbol">)</a> <a id="8647" href="#8630" class="Bound">x</a><a id="8648" class="Symbol">)</a>                                 <a id="8682" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="8694" class="Symbol">(λ</a> <a id="8697" href="#8697" class="Bound">x</a> <a id="8699" class="Symbol">→</a> <a id="8701" href="#8697" class="Bound">x</a> <a id="8703" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="8707" class="Symbol">(</a><a id="8708" href="#8337" class="Bound">return</a> <a id="8715" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8717" class="Symbol">(</a><a id="8718" href="#8531" class="Bound">f</a> <a id="8720" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8722" href="#8535" class="Bound">g</a><a id="8723" class="Symbol">)))</a>                       <a id="8749" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="8761" class="Symbol">(λ</a> <a id="8764" href="#8764" class="Bound">x</a> <a id="8766" class="Symbol">→</a> <a id="8768" href="#8764" class="Bound">x</a> <a id="8770" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="8774" class="Symbol">(λ</a> <a id="8777" href="#8777" class="Bound">y</a> <a id="8779" class="Symbol">→</a> <a id="8781" class="Symbol">(</a><a id="8782" href="#8337" class="Bound">return</a> <a id="8789" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8791" href="#8531" class="Bound">f</a> <a id="8793" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8795" href="#8535" class="Bound">g</a><a id="8796" class="Symbol">)</a> <a id="8798" href="#8777" class="Bound">y</a><a id="8799" class="Symbol">))</a>               <a id="8816" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="8819" href="#8104" class="Postulate">ext</a> <a id="8823" class="Symbol">(λ</a> <a id="8826" class="Symbol">{</a><a id="8827" href="#8827" class="Bound">x</a><a id="8828" class="Symbol">}</a> <a id="8830" class="Symbol">→</a> <a id="8832" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="8837" class="Symbol">(</a><a id="8838" href="#8358" class="Bound Operator">_&gt;&gt;=_</a> <a id="8844" href="#8827" class="Bound">x</a><a id="8845" class="Symbol">)</a> <a id="8847" class="Symbol">(</a><a id="8848" href="#8104" class="Postulate">ext</a> <a id="8852" class="Symbol">(</a><a id="8853" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="8857" href="#8378" class="Bound">unitˡ</a><a id="8862" class="Symbol">)))</a> <a id="8866" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="8876" class="Symbol">(λ</a> <a id="8879" href="#8879" class="Bound">x</a> <a id="8881" class="Symbol">→</a> <a id="8883" href="#8879" class="Bound">x</a> <a id="8885" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="8889" class="Symbol">(λ</a> <a id="8892" href="#8892" class="Bound">y</a> <a id="8894" class="Symbol">→</a> <a id="8896" class="Symbol">(</a><a id="8897" href="#8337" class="Bound">return</a> <a id="8904" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8906" href="#8535" class="Bound">g</a><a id="8907" class="Symbol">)</a> <a id="8909" href="#8892" class="Bound">y</a> <a id="8911" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="8915" class="Symbol">(</a><a id="8916" href="#8337" class="Bound">return</a> <a id="8923" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8925" href="#8531" class="Bound">f</a><a id="8926" class="Symbol">)))</a>  <a id="8931" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="8934" href="#8104" class="Postulate">ext</a> <a id="8938" class="Symbol">(</a><a id="8939" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="8943" href="#8418" class="Bound">assoc</a><a id="8948" class="Symbol">)</a> <a id="8950" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="8960" class="Symbol">(λ</a> <a id="8963" href="#8963" class="Bound">x</a> <a id="8965" class="Symbol">→</a> <a id="8967" class="Symbol">((</a><a id="8969" href="#8963" class="Bound">x</a> <a id="8971" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="8975" class="Symbol">(</a><a id="8976" href="#8337" class="Bound">return</a> <a id="8983" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="8985" href="#8535" class="Bound">g</a><a id="8986" class="Symbol">))</a> <a id="8989" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="8993" class="Symbol">(</a><a id="8994" href="#8337" class="Bound">return</a> <a id="9001" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9003" href="#8531" class="Bound">f</a><a id="9004" class="Symbol">)))</a>        <a id="9015" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9027" class="Symbol">(λ</a> <a id="9030" href="#9030" class="Bound">x</a> <a id="9032" class="Symbol">→</a> <a id="9034" class="Symbol">(</a><a id="9035" href="#12252" class="Function">fmap</a> <a id="9040" href="#8531" class="Bound">f</a><a id="9041" class="Symbol">)</a> <a id="9043" class="Symbol">(</a><a id="9044" href="#9030" class="Bound">x</a> <a id="9046" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="9050" class="Symbol">(</a><a id="9051" href="#8337" class="Bound">return</a> <a id="9058" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9060" href="#8535" class="Bound">g</a><a id="9061" class="Symbol">)))</a>                  <a id="9082" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9094" class="Symbol">(λ</a> <a id="9097" href="#9097" class="Bound">x</a> <a id="9099" class="Symbol">→</a> <a id="9101" class="Symbol">(</a><a id="9102" href="#12252" class="Function">fmap</a> <a id="9107" href="#8531" class="Bound">f</a> <a id="9109" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9111" href="#12252" class="Function">fmap</a> <a id="9116" href="#8535" class="Bound">g</a><a id="9117" class="Symbol">)</a> <a id="9119" href="#9097" class="Bound">x</a><a id="9120" class="Symbol">)</a>                            <a id="9149" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9161" href="#12252" class="Function">fmap</a> <a id="9166" href="#8531" class="Bound">f</a> <a id="9168" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9170" href="#12252" class="Function">fmap</a> <a id="9175" href="#8535" class="Bound">g</a>
      <a id="9183" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="9189" class="Symbol">;</a> <a id="9191" href="#3921" class="Field">fun-idty</a> <a id="9200" class="Symbol">=</a>
      <a id="9208" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="9222" href="#12252" class="Function">fmap</a> <a id="9227" href="/lagda/Function.Base.html#615" class="Function">id</a>                      <a id="9251" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9263" class="Symbol">(λ</a> <a id="9266" href="#9266" class="Bound">x</a> <a id="9268" class="Symbol">→</a> <a id="9270" class="Symbol">(</a><a id="9271" href="#12252" class="Function">fmap</a> <a id="9276" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="9278" class="Symbol">)</a> <a id="9280" href="#9266" class="Bound">x</a><a id="9281" class="Symbol">)</a>          <a id="9292" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9304" class="Symbol">(λ</a> <a id="9307" href="#9307" class="Bound">x</a> <a id="9309" class="Symbol">→</a> <a id="9311" href="#9307" class="Bound">x</a> <a id="9313" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="9317" class="Symbol">(</a><a id="9318" href="#8337" class="Bound">return</a> <a id="9325" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9327" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="9329" class="Symbol">))</a>  <a id="9333" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9345" class="Symbol">(λ</a> <a id="9348" href="#9348" class="Bound">x</a> <a id="9350" class="Symbol">→</a> <a id="9352" href="#9348" class="Bound">x</a> <a id="9354" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="9358" href="#8337" class="Bound">return</a><a id="9364" class="Symbol">)</a>         <a id="9374" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9386" class="Symbol">(λ</a> <a id="9389" href="#9389" class="Bound">x</a> <a id="9391" class="Symbol">→</a> <a id="9393" class="Symbol">(</a><a id="9394" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="9397" href="#9389" class="Bound">x</a><a id="9398" class="Symbol">)</a> <a id="9400" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="9404" href="#8337" class="Bound">return</a><a id="9410" class="Symbol">)</a>    <a id="9415" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9418" href="#8104" class="Postulate">ext</a> <a id="9422" href="#8398" class="Bound">unitʳ</a> <a id="9428" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="9438" class="Symbol">(λ</a> <a id="9441" href="#9441" class="Bound">x</a> <a id="9443" class="Symbol">→</a> <a id="9445" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="9448" href="#9441" class="Bound">x</a><a id="9449" class="Symbol">)</a>                 <a id="9467" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9479" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="9488" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="9494" class="Symbol">;</a> <a id="9496" href="#4077" class="Field">nat-unit</a> <a id="9505" class="Symbol">=</a> <a id="9507" class="Symbol">λ</a> <a id="9509" class="Symbol">{</a><a id="9510" href="#9510" class="Bound">_</a><a id="9511" class="Symbol">}</a> <a id="9513" class="Symbol">{</a><a id="9514" href="#9514" class="Bound">_</a><a id="9515" class="Symbol">}</a> <a id="9517" class="Symbol">{</a><a id="9518" href="#9518" class="Bound">f</a><a id="9519" class="Symbol">}</a> <a id="9521" class="Symbol">→</a>
      <a id="9529" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="9543" href="#12252" class="Function">fmap</a> <a id="9548" href="#9518" class="Bound">f</a> <a id="9550" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9552" href="#12331" class="Function">unit</a>                      <a id="9578" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9590" class="Symbol">(λ</a> <a id="9593" href="#9593" class="Bound">x</a> <a id="9595" class="Symbol">→</a> <a id="9597" class="Symbol">(</a><a id="9598" href="#12252" class="Function">fmap</a> <a id="9603" href="#9518" class="Bound">f</a> <a id="9605" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9607" href="#8337" class="Bound">return</a><a id="9613" class="Symbol">)</a> <a id="9615" href="#9593" class="Bound">x</a><a id="9616" class="Symbol">)</a>        <a id="9625" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9637" class="Symbol">(λ</a> <a id="9640" href="#9640" class="Bound">x</a> <a id="9642" class="Symbol">→</a> <a id="9644" href="#8337" class="Bound">return</a> <a id="9651" href="#9640" class="Bound">x</a> <a id="9653" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="9657" class="Symbol">(</a><a id="9658" href="#8337" class="Bound">return</a> <a id="9665" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9667" href="#9518" class="Bound">f</a><a id="9668" class="Symbol">))</a>  <a id="9672" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="9675" href="#8104" class="Postulate">ext</a> <a id="9679" href="#8378" class="Bound">unitˡ</a> <a id="9685" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="9695" class="Symbol">(λ</a> <a id="9698" href="#9698" class="Bound">x</a> <a id="9700" class="Symbol">→</a> <a id="9702" class="Symbol">(</a><a id="9703" href="#8337" class="Bound">return</a> <a id="9710" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9712" href="#9518" class="Bound">f</a><a id="9713" class="Symbol">)</a> <a id="9715" href="#9698" class="Bound">x</a><a id="9716" class="Symbol">)</a>             <a id="9730" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9742" href="#12331" class="Function">unit</a> <a id="9747" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9749" href="#9518" class="Bound">f</a>
      <a id="9757" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="9763" class="Symbol">;</a> <a id="9765" href="#4147" class="Field">nat-mult</a> <a id="9774" class="Symbol">=</a> <a id="9776" class="Symbol">λ</a> <a id="9778" class="Symbol">{</a><a id="9779" href="#9779" class="Bound">_</a><a id="9780" class="Symbol">}</a> <a id="9782" class="Symbol">{</a><a id="9783" href="#9783" class="Bound">_</a><a id="9784" class="Symbol">}</a> <a id="9786" class="Symbol">{</a><a id="9787" href="#9787" class="Bound">f</a><a id="9788" class="Symbol">}</a> <a id="9790" class="Symbol">→</a>
      <a id="9798" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="9812" href="#12252" class="Function">fmap</a> <a id="9817" href="#9787" class="Bound">f</a> <a id="9819" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9821" href="#12384" class="Function">mult</a>                                         <a id="9866" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9878" class="Symbol">(λ</a> <a id="9881" href="#9881" class="Bound">x</a> <a id="9883" class="Symbol">→</a> <a id="9885" class="Symbol">(</a><a id="9886" href="#12252" class="Function">fmap</a> <a id="9891" href="#9787" class="Bound">f</a> <a id="9893" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9895" href="#12384" class="Function">mult</a><a id="9899" class="Symbol">)</a> <a id="9901" href="#9881" class="Bound">x</a><a id="9902" class="Symbol">)</a>                             <a id="9932" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="9944" class="Symbol">(λ</a> <a id="9947" href="#9947" class="Bound">x</a> <a id="9949" class="Symbol">→</a> <a id="9951" class="Symbol">(</a><a id="9952" href="#12384" class="Function">mult</a> <a id="9957" href="#9947" class="Bound">x</a><a id="9958" class="Symbol">)</a> <a id="9960" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="9964" class="Symbol">(</a><a id="9965" href="#8337" class="Bound">return</a> <a id="9972" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="9974" href="#9787" class="Bound">f</a><a id="9975" class="Symbol">))</a>                     <a id="9998" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10010" class="Symbol">(λ</a> <a id="10013" href="#10013" class="Bound">x</a> <a id="10015" class="Symbol">→</a> <a id="10017" class="Symbol">(</a><a id="10018" href="#10013" class="Bound">x</a> <a id="10020" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10024" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="10026" class="Symbol">)</a> <a id="10028" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10032" class="Symbol">(</a><a id="10033" href="#8337" class="Bound">return</a> <a id="10040" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10042" href="#9787" class="Bound">f</a><a id="10043" class="Symbol">))</a>                   <a id="10064" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10067" href="#8104" class="Postulate">ext</a> <a id="10071" href="#8418" class="Bound">assoc</a> <a id="10077" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="10087" class="Symbol">(λ</a> <a id="10090" href="#10090" class="Bound">x</a> <a id="10092" class="Symbol">→</a> <a id="10094" href="#10090" class="Bound">x</a> <a id="10096" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10100" class="Symbol">(λ</a> <a id="10103" href="#10103" class="Bound">y</a> <a id="10105" class="Symbol">→</a> <a id="10107" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="10110" href="#10103" class="Bound">y</a> <a id="10112" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10116" class="Symbol">(</a><a id="10117" href="#8337" class="Bound">return</a> <a id="10124" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10126" href="#9787" class="Bound">f</a><a id="10127" class="Symbol">)))</a>           <a id="10141" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10153" class="Symbol">(λ</a> <a id="10156" href="#10156" class="Bound">x</a> <a id="10158" class="Symbol">→</a> <a id="10160" href="#10156" class="Bound">x</a> <a id="10162" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10166" class="Symbol">(λ</a> <a id="10169" href="#10169" class="Bound">y</a> <a id="10171" class="Symbol">→</a> <a id="10173" href="#10169" class="Bound">y</a> <a id="10175" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10179" class="Symbol">(</a><a id="10180" href="#8337" class="Bound">return</a> <a id="10187" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10189" href="#9787" class="Bound">f</a><a id="10190" class="Symbol">)))</a>              <a id="10207" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10219" class="Symbol">(λ</a> <a id="10222" href="#10222" class="Bound">x</a> <a id="10224" class="Symbol">→</a> <a id="10226" href="#10222" class="Bound">x</a> <a id="10228" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10232" class="Symbol">(λ</a> <a id="10235" href="#10235" class="Bound">y</a> <a id="10237" class="Symbol">→</a> <a id="10239" href="#12252" class="Function">fmap</a> <a id="10244" href="#9787" class="Bound">f</a> <a id="10246" href="#10235" class="Bound">y</a><a id="10247" class="Symbol">))</a>                        <a id="10273" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10285" class="Symbol">(λ</a> <a id="10288" href="#10288" class="Bound">x</a> <a id="10290" class="Symbol">→</a> <a id="10292" href="#10288" class="Bound">x</a> <a id="10294" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10298" class="Symbol">(λ</a> <a id="10301" href="#10301" class="Bound">y</a> <a id="10303" class="Symbol">→</a> <a id="10305" class="Symbol">(</a><a id="10306" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="10309" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10311" class="Symbol">(</a><a id="10312" href="#12252" class="Function">fmap</a> <a id="10317" href="#9787" class="Bound">f</a><a id="10318" class="Symbol">))</a> <a id="10321" href="#10301" class="Bound">y</a><a id="10322" class="Symbol">))</a>               <a id="10339" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10342" href="#8104" class="Postulate">ext</a> <a id="10346" class="Symbol">(λ</a> <a id="10349" class="Symbol">{</a><a id="10350" href="#10350" class="Bound">x</a><a id="10351" class="Symbol">}</a> <a id="10353" class="Symbol">→</a> <a id="10355" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="10360" class="Symbol">(</a><a id="10361" href="#8358" class="Bound Operator">_&gt;&gt;=_</a> <a id="10367" href="#10350" class="Bound">x</a><a id="10368" class="Symbol">)</a> <a id="10370" class="Symbol">(</a><a id="10371" href="#8104" class="Postulate">ext</a> <a id="10375" class="Symbol">(</a><a id="10376" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="10380" href="#8378" class="Bound">unitˡ</a><a id="10385" class="Symbol">)))</a> <a id="10389" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="10399" class="Symbol">(λ</a> <a id="10402" href="#10402" class="Bound">x</a> <a id="10404" class="Symbol">→</a> <a id="10406" href="#10402" class="Bound">x</a> <a id="10408" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10412" class="Symbol">(λ</a> <a id="10415" href="#10415" class="Bound">y</a> <a id="10417" class="Symbol">→</a> <a id="10419" class="Symbol">((</a><a id="10421" href="#8337" class="Bound">return</a> <a id="10428" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10430" class="Symbol">(</a><a id="10431" href="#12252" class="Function">fmap</a> <a id="10436" href="#9787" class="Bound">f</a><a id="10437" class="Symbol">))</a> <a id="10440" href="#10415" class="Bound">y</a><a id="10441" class="Symbol">)</a> <a id="10443" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10447" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="10449" class="Symbol">))</a>  <a id="10453" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10456" href="#8104" class="Postulate">ext</a> <a id="10460" class="Symbol">(</a><a id="10461" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="10465" href="#8418" class="Bound">assoc</a><a id="10470" class="Symbol">)</a> <a id="10472" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="10482" class="Symbol">(λ</a> <a id="10485" href="#10485" class="Bound">x</a> <a id="10487" class="Symbol">→</a> <a id="10489" class="Symbol">(</a><a id="10490" href="#10485" class="Bound">x</a> <a id="10492" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10496" class="Symbol">(</a><a id="10497" href="#8337" class="Bound">return</a> <a id="10504" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10506" class="Symbol">(</a><a id="10507" href="#12252" class="Function">fmap</a> <a id="10512" href="#9787" class="Bound">f</a><a id="10513" class="Symbol">)))</a> <a id="10517" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10521" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="10523" class="Symbol">)</a>            <a id="10536" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10548" class="Symbol">(λ</a> <a id="10551" href="#10551" class="Bound">x</a> <a id="10553" class="Symbol">→</a> <a id="10555" class="Symbol">(</a><a id="10556" href="#12252" class="Function">fmap</a> <a id="10561" class="Symbol">(</a><a id="10562" href="#12252" class="Function">fmap</a> <a id="10567" href="#9787" class="Bound">f</a><a id="10568" class="Symbol">)</a> <a id="10570" href="#10551" class="Bound">x</a><a id="10571" class="Symbol">)</a> <a id="10573" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10577" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="10579" class="Symbol">)</a>                      <a id="10602" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10614" class="Symbol">(λ</a> <a id="10617" href="#10617" class="Bound">x</a> <a id="10619" class="Symbol">→</a> <a id="10621" class="Symbol">(</a><a id="10622" href="#12384" class="Function">mult</a> <a id="10627" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10629" href="#12252" class="Function">fmap</a> <a id="10634" class="Symbol">(</a><a id="10635" href="#12252" class="Function">fmap</a> <a id="10640" href="#9787" class="Bound">f</a><a id="10641" class="Symbol">))</a> <a id="10644" href="#10617" class="Bound">x</a><a id="10645" class="Symbol">)</a>                      <a id="10668" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10680" href="#12384" class="Function">mult</a> <a id="10685" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10687" href="#12252" class="Function">fmap</a> <a id="10692" class="Symbol">(</a><a id="10693" href="#12252" class="Function">fmap</a> <a id="10698" href="#9787" class="Bound">f</a><a id="10699" class="Symbol">)</a>
      <a id="10707" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="10713" class="Symbol">;</a> <a id="10715" href="#4294" class="Field">unitʳ</a> <a id="10721" class="Symbol">=</a>
      <a id="10729" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="10743" href="#12384" class="Function">mult</a> <a id="10748" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10750" href="#12252" class="Function">fmap</a> <a id="10755" href="#12331" class="Function">unit</a>                                <a id="10791" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10803" class="Symbol">(λ</a> <a id="10806" href="#10806" class="Bound">x</a> <a id="10808" class="Symbol">→</a> <a id="10810" class="Symbol">(</a><a id="10811" href="#12384" class="Function">mult</a> <a id="10816" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10818" href="#12252" class="Function">fmap</a> <a id="10823" href="#8337" class="Bound">return</a><a id="10829" class="Symbol">)</a> <a id="10831" href="#10806" class="Bound">x</a><a id="10832" class="Symbol">)</a>                  <a id="10851" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10863" class="Symbol">(λ</a> <a id="10866" href="#10866" class="Bound">x</a> <a id="10868" class="Symbol">→</a> <a id="10870" href="#12252" class="Function">fmap</a> <a id="10875" href="#8337" class="Bound">return</a> <a id="10882" href="#10866" class="Bound">x</a> <a id="10884" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10888" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="10890" class="Symbol">)</a>                    <a id="10911" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="10923" class="Symbol">(λ</a> <a id="10926" href="#10926" class="Bound">x</a> <a id="10928" class="Symbol">→</a> <a id="10930" class="Symbol">(</a><a id="10931" href="#10926" class="Bound">x</a> <a id="10933" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10937" class="Symbol">(</a><a id="10938" href="#8337" class="Bound">return</a> <a id="10945" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="10947" href="#8337" class="Bound">return</a><a id="10953" class="Symbol">))</a> <a id="10956" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="10960" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="10962" class="Symbol">)</a>        <a id="10971" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10974" href="#8104" class="Postulate">ext</a> <a id="10978" href="#8418" class="Bound">assoc</a> <a id="10984" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="10994" class="Symbol">(λ</a> <a id="10997" href="#10997" class="Bound">x</a> <a id="10999" class="Symbol">→</a> <a id="11001" href="#10997" class="Bound">x</a> <a id="11003" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11007" class="Symbol">(λ</a> <a id="11010" href="#11010" class="Bound">y</a> <a id="11012" class="Symbol">→</a> <a id="11014" href="#8337" class="Bound">return</a> <a id="11021" class="Symbol">(</a><a id="11022" href="#8337" class="Bound">return</a> <a id="11029" href="#11010" class="Bound">y</a><a id="11030" class="Symbol">)</a> <a id="11032" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11036" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="11038" class="Symbol">))</a>  <a id="11042" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="11045" href="#8104" class="Postulate">ext</a> <a id="11049" class="Symbol">(λ</a> <a id="11052" class="Symbol">{</a><a id="11053" href="#11053" class="Bound">x</a><a id="11054" class="Symbol">}</a> <a id="11056" class="Symbol">→</a> <a id="11058" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="11063" class="Symbol">(</a><a id="11064" href="#8358" class="Bound Operator">_&gt;&gt;=_</a> <a id="11070" href="#11053" class="Bound">x</a><a id="11071" class="Symbol">)</a> <a id="11073" class="Symbol">(</a><a id="11074" href="#8104" class="Postulate">ext</a> <a id="11078" href="#8378" class="Bound">unitˡ</a><a id="11083" class="Symbol">))</a> <a id="11086" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="11096" class="Symbol">(λ</a> <a id="11099" href="#11099" class="Bound">x</a> <a id="11101" class="Symbol">→</a> <a id="11103" href="#11099" class="Bound">x</a> <a id="11105" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11109" class="Symbol">(λ</a> <a id="11112" href="#11112" class="Bound">y</a> <a id="11114" class="Symbol">→</a> <a id="11116" href="#8337" class="Bound">return</a> <a id="11123" href="#11112" class="Bound">y</a><a id="11124" class="Symbol">))</a>                  <a id="11144" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11156" class="Symbol">(λ</a> <a id="11159" href="#11159" class="Bound">x</a> <a id="11161" class="Symbol">→</a> <a id="11163" href="#11159" class="Bound">x</a> <a id="11165" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11169" href="#8337" class="Bound">return</a><a id="11175" class="Symbol">)</a>                            <a id="11204" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="11207" href="#8104" class="Postulate">ext</a> <a id="11211" href="#8398" class="Bound">unitʳ</a> <a id="11217" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="11227" class="Symbol">(λ</a> <a id="11230" href="#11230" class="Bound">x</a> <a id="11232" class="Symbol">→</a> <a id="11234" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="11237" href="#11230" class="Bound">x</a><a id="11238" class="Symbol">)</a>                                    <a id="11275" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11287" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="11296" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="11302" class="Symbol">;</a> <a id="11304" href="#4247" class="Field">unitˡ</a> <a id="11310" class="Symbol">=</a>
      <a id="11318" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="11332" href="#12384" class="Function">mult</a> <a id="11337" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="11339" href="#12331" class="Function">unit</a>                <a id="11359" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11371" class="Symbol">(λ</a> <a id="11374" href="#11374" class="Bound">x</a> <a id="11376" class="Symbol">→</a> <a id="11378" class="Symbol">(</a><a id="11379" href="#12384" class="Function">mult</a> <a id="11384" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="11386" href="#8337" class="Bound">return</a><a id="11392" class="Symbol">)</a> <a id="11394" href="#11374" class="Bound">x</a><a id="11395" class="Symbol">)</a>  <a id="11398" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11410" class="Symbol">(λ</a> <a id="11413" href="#11413" class="Bound">x</a> <a id="11415" class="Symbol">→</a> <a id="11417" href="#8337" class="Bound">return</a> <a id="11424" href="#11413" class="Bound">x</a> <a id="11426" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11430" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="11432" class="Symbol">)</a>    <a id="11437" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="11440" href="#8104" class="Postulate">ext</a> <a id="11444" href="#8378" class="Bound">unitˡ</a> <a id="11450" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="11460" class="Symbol">(λ</a> <a id="11463" href="#11463" class="Bound">x</a> <a id="11465" class="Symbol">→</a> <a id="11467" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="11470" href="#11463" class="Bound">x</a><a id="11471" class="Symbol">)</a>               <a id="11487" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11499" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="11508" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="11514" class="Symbol">;</a> <a id="11516" href="#4346" class="Field">assoc</a> <a id="11522" class="Symbol">=</a>
      <a id="11530" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="11544" href="#12384" class="Function">mult</a> <a id="11549" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="11551" href="#12252" class="Function">fmap</a> <a id="11556" href="#12384" class="Function">mult</a>                                <a id="11592" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11604" class="Symbol">(λ</a> <a id="11607" href="#11607" class="Bound">x</a> <a id="11609" class="Symbol">→</a> <a id="11611" class="Symbol">(</a><a id="11612" href="#12384" class="Function">mult</a> <a id="11617" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="11619" href="#12252" class="Function">fmap</a> <a id="11624" href="#12384" class="Function">mult</a><a id="11628" class="Symbol">)</a> <a id="11630" href="#11607" class="Bound">x</a><a id="11631" class="Symbol">)</a>                    <a id="11652" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11664" class="Symbol">(λ</a> <a id="11667" href="#11667" class="Bound">x</a> <a id="11669" class="Symbol">→</a> <a id="11671" class="Symbol">(</a><a id="11672" href="#12252" class="Function">fmap</a> <a id="11677" href="#12384" class="Function">mult</a> <a id="11682" href="#11667" class="Bound">x</a><a id="11683" class="Symbol">)</a> <a id="11685" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11689" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="11691" class="Symbol">)</a>                    <a id="11712" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11724" class="Symbol">(λ</a> <a id="11727" href="#11727" class="Bound">x</a> <a id="11729" class="Symbol">→</a> <a id="11731" class="Symbol">(</a><a id="11732" href="#11727" class="Bound">x</a> <a id="11734" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11738" class="Symbol">(</a><a id="11739" href="#8337" class="Bound">return</a> <a id="11746" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="11748" href="#12384" class="Function">mult</a><a id="11752" class="Symbol">))</a> <a id="11755" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11759" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="11761" class="Symbol">)</a>          <a id="11772" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="11775" href="#8104" class="Postulate">ext</a> <a id="11779" href="#8418" class="Bound">assoc</a> <a id="11785" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="11795" class="Symbol">(λ</a> <a id="11798" href="#11798" class="Bound">x</a> <a id="11800" class="Symbol">→</a> <a id="11802" href="#11798" class="Bound">x</a> <a id="11804" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11808" class="Symbol">(λ</a> <a id="11811" href="#11811" class="Bound">y</a> <a id="11813" class="Symbol">→</a> <a id="11815" class="Symbol">(</a><a id="11816" href="#8337" class="Bound">return</a> <a id="11823" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="11825" href="#12384" class="Function">mult</a><a id="11829" class="Symbol">)</a> <a id="11831" href="#11811" class="Bound">y</a> <a id="11833" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11837" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="11839" class="Symbol">))</a>  <a id="11843" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="11846" href="#8104" class="Postulate">ext</a> <a id="11850" class="Symbol">(λ</a> <a id="11853" class="Symbol">{</a><a id="11854" href="#11854" class="Bound">x</a><a id="11855" class="Symbol">}</a> <a id="11857" class="Symbol">→</a> <a id="11859" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="11864" class="Symbol">(</a><a id="11865" href="#8358" class="Bound Operator">_&gt;&gt;=_</a> <a id="11871" href="#11854" class="Bound">x</a><a id="11872" class="Symbol">)</a> <a id="11874" class="Symbol">(</a><a id="11875" href="#8104" class="Postulate">ext</a> <a id="11879" href="#8378" class="Bound">unitˡ</a><a id="11884" class="Symbol">))</a> <a id="11887" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="11897" class="Symbol">(λ</a> <a id="11900" href="#11900" class="Bound">x</a> <a id="11902" class="Symbol">→</a> <a id="11904" href="#11900" class="Bound">x</a> <a id="11906" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11910" class="Symbol">(λ</a> <a id="11913" href="#11913" class="Bound">y</a> <a id="11915" class="Symbol">→</a> <a id="11917" href="#12384" class="Function">mult</a> <a id="11922" href="#11913" class="Bound">y</a><a id="11923" class="Symbol">))</a>                    <a id="11945" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="11957" class="Symbol">(λ</a> <a id="11960" href="#11960" class="Bound">x</a> <a id="11962" class="Symbol">→</a> <a id="11964" href="#11960" class="Bound">x</a> <a id="11966" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11970" class="Symbol">(λ</a> <a id="11973" href="#11973" class="Bound">y</a> <a id="11975" class="Symbol">→</a> <a id="11977" href="#11973" class="Bound">y</a> <a id="11979" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="11983" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="11985" class="Symbol">))</a>                  <a id="12005" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="12008" href="#8104" class="Postulate">ext</a> <a id="12012" class="Symbol">(</a><a id="12013" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="12017" href="#8418" class="Bound">assoc</a><a id="12022" class="Symbol">)</a> <a id="12024" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="12034" class="Symbol">(λ</a> <a id="12037" href="#12037" class="Bound">x</a> <a id="12039" class="Symbol">→</a> <a id="12041" class="Symbol">(</a><a id="12042" href="#12037" class="Bound">x</a> <a id="12044" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="12048" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="12050" class="Symbol">)</a> <a id="12052" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="12056" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="12058" class="Symbol">)</a>                       <a id="12082" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="12094" class="Symbol">(λ</a> <a id="12097" href="#12097" class="Bound">x</a> <a id="12099" class="Symbol">→</a> <a id="12101" href="#12384" class="Function">mult</a> <a id="12106" class="Symbol">(</a><a id="12107" href="#12097" class="Bound">x</a> <a id="12109" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="12113" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="12115" class="Symbol">))</a>                         <a id="12142" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="12154" class="Symbol">(λ</a> <a id="12157" href="#12157" class="Bound">x</a> <a id="12159" class="Symbol">→</a> <a id="12161" class="Symbol">(</a><a id="12162" href="#12384" class="Function">mult</a> <a id="12167" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="12169" href="#12384" class="Function">mult</a><a id="12173" class="Symbol">)</a> <a id="12175" href="#12157" class="Bound">x</a><a id="12176" class="Symbol">)</a>                         <a id="12202" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="12214" href="#12384" class="Function">mult</a> <a id="12219" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="12221" href="#12384" class="Function">mult</a>
      <a id="12232" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="12238" class="Symbol">}</a>
  <a id="12242" class="Keyword">where</a>
    <a id="12252" href="#12252" class="Function">fmap</a> <a id="12257" class="Symbol">:</a> <a id="12259" class="Symbol">{</a><a id="12260" href="#12260" class="Bound">A</a> <a id="12262" href="#12262" class="Bound">B</a> <a id="12264" class="Symbol">:</a> <a id="12266" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="12269" class="Symbol">}</a> <a id="12271" class="Symbol">→</a> <a id="12273" class="Symbol">(</a><a id="12274" href="#12260" class="Bound">A</a> <a id="12276" class="Symbol">→</a> <a id="12278" href="#12262" class="Bound">B</a><a id="12279" class="Symbol">)</a> <a id="12281" class="Symbol">→</a> <a id="12283" href="#8310" class="Bound">M</a> <a id="12285" href="#12260" class="Bound">A</a> <a id="12287" class="Symbol">→</a> <a id="12289" href="#8310" class="Bound">M</a> <a id="12291" href="#12262" class="Bound">B</a>
    <a id="12297" href="#12252" class="Function">fmap</a> <a id="12302" href="#12302" class="Bound">f</a> <a id="12304" href="#12304" class="Bound">x</a> <a id="12306" class="Symbol">=</a> <a id="12308" href="#12304" class="Bound">x</a> <a id="12310" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="12314" class="Symbol">(</a><a id="12315" href="#8337" class="Bound">return</a> <a id="12322" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="12324" href="#12302" class="Bound">f</a><a id="12325" class="Symbol">)</a>
    <a id="12331" href="#12331" class="Function">unit</a> <a id="12336" class="Symbol">:</a> <a id="12338" class="Symbol">{</a><a id="12339" href="#12339" class="Bound">A</a> <a id="12341" class="Symbol">:</a> <a id="12343" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="12346" class="Symbol">}</a> <a id="12348" class="Symbol">→</a> <a id="12350" href="#12339" class="Bound">A</a> <a id="12352" class="Symbol">→</a> <a id="12354" href="#8310" class="Bound">M</a> <a id="12356" href="#12339" class="Bound">A</a>
    <a id="12362" href="#12331" class="Function">unit</a> <a id="12367" href="#12367" class="Bound">x</a> <a id="12369" class="Symbol">=</a> <a id="12371" href="#8337" class="Bound">return</a> <a id="12378" href="#12367" class="Bound">x</a>
    <a id="12384" href="#12384" class="Function">mult</a> <a id="12389" class="Symbol">:</a> <a id="12391" class="Symbol">{</a><a id="12392" href="#12392" class="Bound">A</a> <a id="12394" class="Symbol">:</a> <a id="12396" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="12399" class="Symbol">}</a> <a id="12401" class="Symbol">→</a> <a id="12403" href="#8310" class="Bound">M</a> <a id="12405" class="Symbol">(</a><a id="12406" href="#8310" class="Bound">M</a> <a id="12408" href="#12392" class="Bound">A</a><a id="12409" class="Symbol">)</a> <a id="12411" class="Symbol">→</a> <a id="12413" href="#8310" class="Bound">M</a> <a id="12415" href="#12392" class="Bound">A</a>
    <a id="12421" href="#12384" class="Function">mult</a> <a id="12426" href="#12426" class="Bound">x</a> <a id="12428" class="Symbol">=</a> <a id="12430" href="#12426" class="Bound">x</a> <a id="12432" href="#8358" class="Bound Operator">&gt;&gt;=</a> <a id="12436" href="/lagda/Function.Base.html#615" class="Function">id</a>
</pre>
<p>Ta-da! <code class="language-plaintext highlighter-rouge">MathMon</code> is equivalent to <code class="language-plaintext highlighter-rouge">ProgMon</code> and we can sleep peacefully.</p>

<h2 id="aesthetes-monads">Aesthetes’ monads</h2>

<p>We are not done yet: a third common characterization of a monad exists!</p>

<p>Haskellers define the <code class="language-plaintext highlighter-rouge">&gt;=&gt;</code> operator (pronounced <em>fish</em>) as</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="o">&gt;=&gt;</span><span class="p">)</span> <span class="o">::</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">c</span><span class="p">)</span>
<span class="p">(</span><span class="n">m</span> <span class="o">&gt;=&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="n">x</span>  <span class="o">=</span> <span class="n">m</span> <span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="n">n</span>
</code></pre></div></div>

<p>Its type signature makes it more intuitive to use than <code class="language-plaintext highlighter-rouge">&gt;&gt;=</code>.</p>

<p>Replacing <code class="language-plaintext highlighter-rouge">&gt;&gt;=</code> in the old monad type class we obtain:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">class</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="kr">where</span>
  <span class="n">return</span> <span class="o">::</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">a</span>
  <span class="p">(</span><span class="o">&gt;=&gt;</span><span class="p">)</span> <span class="o">::</span> <span class="p">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">m</span> <span class="n">c</span>
</code></pre></div></div>

<p>The monad laws can also be rewritten in term of <code class="language-plaintext highlighter-rouge">&gt;=&gt;</code>:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">return</span> <span class="o">&gt;=&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">g</span>                   <span class="c1">-- left unit</span>
<span class="n">f</span> <span class="o">&gt;=&gt;</span> <span class="n">return</span> <span class="o">=</span> <span class="n">f</span>                   <span class="c1">-- right unit</span>
<span class="p">(</span><span class="n">f</span> <span class="o">&gt;=&gt;</span> <span class="n">g</span><span class="p">)</span> <span class="o">&gt;=&gt;</span> <span class="n">h</span> <span class="o">=</span> <span class="n">f</span> <span class="o">&gt;=&gt;</span> <span class="p">(</span><span class="n">g</span> <span class="o">&gt;=&gt;</span> <span class="n">h</span><span class="p">)</span>  <span class="c1">-- associativity</span>
</code></pre></div></div>

<p>Their meaning is finally apparent! This makes <code class="language-plaintext highlighter-rouge">&gt;=&gt;</code> very compelling.</p>

<p>It seems like we struck gold, but we’re in for a sad surprise.
Let’s define the AGDA type:</p>

<pre class="Agda"><a id="13392" class="Keyword">record</a> <a id="DopeMon"></a><a id="13399" href="#13399" class="Record">DopeMon</a> <a id="13407" class="Symbol">(</a><a id="13408" href="#13408" class="Bound">M</a> <a id="13410" class="Symbol">:</a> <a id="13412" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="13416" class="Symbol">→</a> <a id="13418" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="13421" class="Symbol">)</a> <a id="13423" class="Symbol">:</a> <a id="13425" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set₁</a> <a id="13430" class="Keyword">where</a>
  <a id="13438" class="Keyword">field</a>
    <a id="DopeMon.return"></a><a id="13448" href="#13448" class="Field">return</a> <a id="13455" class="Symbol">:</a> <a id="13457" class="Symbol">{</a><a id="13458" href="#13458" class="Bound">A</a> <a id="13460" class="Symbol">:</a> <a id="13462" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="13465" class="Symbol">}</a> <a id="13467" class="Symbol">→</a> <a id="13469" href="#13458" class="Bound">A</a> <a id="13471" class="Symbol">-&gt;</a> <a id="13474" href="#13408" class="Bound">M</a> <a id="13476" href="#13458" class="Bound">A</a>
    <a id="DopeMon._&gt;=&gt;_"></a><a id="13482" href="#13482" class="Field Operator">_&gt;=&gt;_</a> <a id="13488" class="Symbol">:</a> <a id="13490" class="Symbol">{</a><a id="13491" href="#13491" class="Bound">A</a> <a id="13493" href="#13493" class="Bound">B</a> <a id="13495" href="#13495" class="Bound">C</a> <a id="13497" class="Symbol">:</a> <a id="13499" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="13502" class="Symbol">}</a> <a id="13504" class="Symbol">→</a> <a id="13506" class="Symbol">(</a><a id="13507" href="#13491" class="Bound">A</a> <a id="13509" class="Symbol">→</a> <a id="13511" href="#13408" class="Bound">M</a> <a id="13513" href="#13493" class="Bound">B</a><a id="13514" class="Symbol">)</a> <a id="13516" class="Symbol">→</a> <a id="13518" class="Symbol">(</a><a id="13519" href="#13493" class="Bound">B</a> <a id="13521" class="Symbol">→</a> <a id="13523" href="#13408" class="Bound">M</a> <a id="13525" href="#13495" class="Bound">C</a><a id="13526" class="Symbol">)</a> <a id="13528" class="Symbol">→</a> <a id="13530" class="Symbol">(</a><a id="13531" href="#13491" class="Bound">A</a> <a id="13533" class="Symbol">→</a> <a id="13535" href="#13408" class="Bound">M</a> <a id="13537" href="#13495" class="Bound">C</a><a id="13538" class="Symbol">)</a>
    <a id="13544" class="Comment">-- monadicity</a>
    <a id="DopeMon.unitˡ"></a><a id="13562" href="#13562" class="Field">unitˡ</a> <a id="13568" class="Symbol">:</a> <a id="13570" class="Symbol">∀</a> <a id="13572" class="Symbol">{</a><a id="13573" href="#13573" class="Bound">A</a> <a id="13575" href="#13575" class="Bound">C</a> <a id="13577" class="Symbol">:</a> <a id="13579" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="13582" class="Symbol">}</a> <a id="13584" class="Symbol">{</a><a id="13585" href="#13585" class="Bound">g</a> <a id="13587" class="Symbol">:</a> <a id="13589" href="#13573" class="Bound">A</a> <a id="13591" class="Symbol">→</a> <a id="13593" href="#13408" class="Bound">M</a> <a id="13595" href="#13575" class="Bound">C</a><a id="13596" class="Symbol">}</a>
      <a id="13604" class="Symbol">→</a> <a id="13606" href="#13448" class="Field">return</a> <a id="13613" href="#13482" class="Field Operator">&gt;=&gt;</a> <a id="13617" href="#13585" class="Bound">g</a> <a id="13619" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="13621" href="#13585" class="Bound">g</a>
    <a id="DopeMon.unitʳ"></a><a id="13627" href="#13627" class="Field">unitʳ</a> <a id="13633" class="Symbol">:</a> <a id="13635" class="Symbol">∀</a> <a id="13637" class="Symbol">{</a><a id="13638" href="#13638" class="Bound">A</a> <a id="13640" href="#13640" class="Bound">B</a> <a id="13642" class="Symbol">:</a> <a id="13644" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="13647" class="Symbol">}</a> <a id="13649" class="Symbol">{</a><a id="13650" href="#13650" class="Bound">f</a> <a id="13652" class="Symbol">:</a> <a id="13654" href="#13638" class="Bound">A</a> <a id="13656" class="Symbol">→</a> <a id="13658" href="#13408" class="Bound">M</a> <a id="13660" href="#13640" class="Bound">B</a><a id="13661" class="Symbol">}</a>
      <a id="13669" class="Symbol">→</a> <a id="13671" href="#13650" class="Bound">f</a> <a id="13673" href="#13482" class="Field Operator">&gt;=&gt;</a> <a id="13677" href="#13448" class="Field">return</a> <a id="13684" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="13686" href="#13650" class="Bound">f</a>
    <a id="DopeMon.assoc"></a><a id="13692" href="#13692" class="Field">assoc</a> <a id="13698" class="Symbol">:</a> <a id="13700" class="Symbol">∀</a> <a id="13702" class="Symbol">{</a><a id="13703" href="#13703" class="Bound">A</a> <a id="13705" href="#13705" class="Bound">B</a> <a id="13707" href="#13707" class="Bound">C</a> <a id="13709" href="#13709" class="Bound">D</a> <a id="13711" class="Symbol">:</a> <a id="13713" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="13716" class="Symbol">}</a> <a id="13718" class="Symbol">{</a><a id="13719" href="#13719" class="Bound">f</a> <a id="13721" class="Symbol">:</a> <a id="13723" href="#13703" class="Bound">A</a> <a id="13725" class="Symbol">→</a> <a id="13727" href="#13408" class="Bound">M</a> <a id="13729" href="#13705" class="Bound">B</a><a id="13730" class="Symbol">}</a> <a id="13732" class="Symbol">{</a><a id="13733" href="#13733" class="Bound">g</a> <a id="13735" class="Symbol">:</a> <a id="13737" href="#13705" class="Bound">B</a> <a id="13739" class="Symbol">→</a> <a id="13741" href="#13408" class="Bound">M</a> <a id="13743" href="#13707" class="Bound">C</a><a id="13744" class="Symbol">}</a> <a id="13746" class="Symbol">{</a><a id="13747" href="#13747" class="Bound">h</a> <a id="13749" class="Symbol">:</a> <a id="13751" href="#13707" class="Bound">C</a> <a id="13753" class="Symbol">→</a> <a id="13755" href="#13408" class="Bound">M</a> <a id="13757" href="#13709" class="Bound">D</a><a id="13758" class="Symbol">}</a>
      <a id="13766" class="Symbol">→</a> <a id="13768" class="Symbol">(</a><a id="13769" href="#13719" class="Bound">f</a> <a id="13771" href="#13482" class="Field Operator">&gt;=&gt;</a> <a id="13775" href="#13733" class="Bound">g</a><a id="13776" class="Symbol">)</a> <a id="13778" href="#13482" class="Field Operator">&gt;=&gt;</a> <a id="13782" href="#13747" class="Bound">h</a> <a id="13784" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="13786" href="#13719" class="Bound">f</a> <a id="13788" href="#13482" class="Field Operator">&gt;=&gt;</a> <a id="13792" class="Symbol">(</a><a id="13793" href="#13733" class="Bound">g</a> <a id="13795" href="#13482" class="Field Operator">&gt;=&gt;</a> <a id="13799" href="#13747" class="Bound">h</a><a id="13800" class="Symbol">)</a>
</pre>
<p>You can search Haskell lore or work out for yourself how to tie the operators together.
I will just give you the result (omitting <code class="language-plaintext highlighter-rouge">unit</code> and <code class="language-plaintext highlighter-rouge">return</code>s for brevity):</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- MathMon → DopeMon</span>
<span class="p">(</span><span class="n">f</span> <span class="o">&gt;=&gt;</span> <span class="n">g</span><span class="p">)</span> <span class="n">x</span> <span class="o">=</span> <span class="n">mult</span> <span class="p">(</span><span class="n">fmap</span> <span class="n">g</span> <span class="p">(</span><span class="n">f</span> <span class="n">x</span><span class="p">))</span>
<span class="c1">-- DopeMon → MathMon</span>
<span class="n">fmap</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">const</span> <span class="n">x</span><span class="p">)</span> <span class="o">&gt;=&gt;</span> <span class="p">(</span><span class="n">return</span> <span class="o">.</span> <span class="n">f</span><span class="p">))</span> <span class="nb">()</span>
<span class="n">mult</span> <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">const</span> <span class="n">x</span><span class="p">)</span> <span class="o">&gt;=&gt;</span> <span class="n">id</span><span class="p">)</span> <span class="nb">()</span>
<span class="c1">-- ProgMon → DopeMon</span>
<span class="p">(</span><span class="n">m</span> <span class="o">&gt;=&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="n">x</span> <span class="o">=</span> <span class="n">m</span> <span class="n">x</span> <span class="o">&gt;&gt;=</span> <span class="n">n</span>
<span class="c1">-- DopeMon → ProgMon</span>
<span class="n">ma</span> <span class="o">&gt;&gt;=</span> <span class="n">f</span> <span class="o">=</span> <span class="p">((</span><span class="n">const</span> <span class="n">ma</span><span class="p">)</span> <span class="o">&gt;=&gt;</span> <span class="n">f</span><span class="p">)</span> <span class="nb">()</span>
</code></pre></div></div>

<p>We have all we need, but unfortunately if we try to prove<sup id="fnref:dope-mon-types" role="doc-noteref"><a href="#fn:dope-mon-types" class="footnote">1</a></sup> the equivalence of this definition and the previous two we come to a hard stop.</p>

<p><code class="language-plaintext highlighter-rouge">MathMon → DopeMon</code> and <code class="language-plaintext highlighter-rouge">ProgMon → DopeMon</code> pose no problem, but
<code class="language-plaintext highlighter-rouge">DopeMon → ProgMon</code> and <code class="language-plaintext highlighter-rouge">DopeMon → DopeMon</code> both have holes which cannot be filled.
This means that <code class="language-plaintext highlighter-rouge">DopeMon</code> is weaker than both <code class="language-plaintext highlighter-rouge">MathMon</code> and <code class="language-plaintext highlighter-rouge">ProgMon</code>.</p>

<p>If you are pernickety enough, you can reduce all unfilled holes to have one of two forms:
you will rediscover the two properties we are missing from <code class="language-plaintext highlighter-rouge">DopeMon</code>.
That is a road I have traveled and do not recommend.</p>

<p>So… where do we go from here?</p>

<p><code class="language-plaintext highlighter-rouge">&gt;=&gt;</code> is often referred to as <em>Kleisli composition</em> and that is a clue leading to <em>Kleisli categories</em>.</p>

<p>Every monad $\langle M, \eta, \mu\rangle$ over a category $C$ has an associated <strong>Kleisli category</strong> $C_M$ with</p>
<ul>
  <li>objects given by $\Obj(C_M)=\Obj(C)$;</li>
  <li>morphisms given by $\Hom_{C_M}(X,Y)=\Obj_C(X,M(Y))$ for every pair of objects $X$, $Y$ in $C$;</li>
  <li>composition given by $g\circ_Mf=\mu_Z\circ M(g)\circ f$ for every pair of morphisms $f:X\to M(Y)$, $g:Y\to M(Z)$ in $C$;</li>
  <li>identities given by $\id_X=\eta_X$ for every object $X$ in $C$.</li>
</ul>

<p>The Haskell lore above tells us that <code class="language-plaintext highlighter-rouge">f &gt;=&gt; g = mult . fmap g . f</code> and we can recognize that <code class="language-plaintext highlighter-rouge">&gt;=&gt;</code> is just the Kleisli composition $\circ_M$ with flipped arguments.</p>

<p>In turn, this means the properties we were requiring of <code class="language-plaintext highlighter-rouge">&gt;=&gt;</code> are the associativity and identity axioms for the composition $\circ_M$ in the category $C_M$. Those <em>do not imply</em> the monad laws for $M$!</p>

<p>Luckily there’s an equivalent characterization of a monad which allows us to both succintly characterize $\circ_M$ and simplify our next proofs.</p>

<p>A <strong>Kleisli triple</strong> $\langle M,\eta,(-)^\star\rangle$ in a category $C$ is the ensemble of</p>
<ul>
  <li>a function $M:\Obj(C)\to\Obj(C)$,</li>
  <li>a morphism $\eta_X:X\to M(X)$ for every object $X$ in $C$,</li>
  <li>a morphism $f^\star:M(X)\to M(Y)$ for every morphism $f:X\to Y$ in $C$,</li>
</ul>

<p>such that</p>
<ul>
  <li>$\eta^\star_X=\id_{M(X)}$ for every object $X$ in $C$,</li>
  <li>$f^\star\circ\eta_X=f$ for every morphism $f:X\to Y$ in $C$,</li>
  <li>$(g^\star\circ f)^\star=g^\star\circ f^\star$ for every pair of composable morphisms $f$, $g$ in $C$.</li>
</ul>

<p>To give a monad $\langle M,\eta,\mu\rangle$ is to give a Kleisli triple $\langle M,\eta,(-)^\star\rangle$.</p>

<p>$(-)^\star:\Hom(X,M(Y))\to\Hom(M(X),M(Y))$ is called the <em>extension operator</em> and it connects the two definitions
for every morphism $f:X\to Y$ in $C$ like so:</p>

<div class="kdmath">$$
f^\star=\mu_Y\circ M(f)
$$</div>

<p>Therefore it allows to succintly rewrite the Kleisli composition for every pair of composable morphisms $f$, $g$ in $C$ as</p>

<div class="kdmath">$$
g\circ_M f=g^\star\circ f^\star
$$</div>

<p>With that being said, what is the plan now?</p>

<p>We will define the type of Kleisli triples and endow it with <code class="language-plaintext highlighter-rouge">&gt;=&gt;</code> and its properties by building and deducing them from the extension operator and its properties:</p>

<pre class="Agda"><a id="17328" class="Keyword">record</a> <a id="KlslMon"></a><a id="17335" href="#17335" class="Record">KlslMon</a> <a id="17343" class="Symbol">(</a><a id="17344" href="#17344" class="Bound">M</a> <a id="17346" class="Symbol">:</a> <a id="17348" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="17352" class="Symbol">→</a> <a id="17354" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17357" class="Symbol">)</a> <a id="17359" class="Symbol">:</a> <a id="17361" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set₁</a> <a id="17366" class="Keyword">where</a>
  <a id="17374" class="Keyword">field</a>
    <a id="KlslMon.unit"></a><a id="17384" href="#17384" class="Field">unit</a> <a id="17389" class="Symbol">:</a> <a id="17391" class="Symbol">{</a><a id="17392" href="#17392" class="Bound">A</a> <a id="17394" class="Symbol">:</a> <a id="17396" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17399" class="Symbol">}</a> <a id="17401" class="Symbol">→</a> <a id="17403" href="#17392" class="Bound">A</a> <a id="17405" class="Symbol">-&gt;</a> <a id="17408" href="#17344" class="Bound">M</a> <a id="17410" href="#17392" class="Bound">A</a>
    <a id="KlslMon._⋆"></a><a id="17416" href="#17416" class="Field Operator">_⋆</a> <a id="17419" class="Symbol">:</a> <a id="17421" class="Symbol">{</a><a id="17422" href="#17422" class="Bound">A</a> <a id="17424" href="#17424" class="Bound">B</a> <a id="17426" class="Symbol">:</a> <a id="17428" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17431" class="Symbol">}</a> <a id="17433" class="Symbol">→</a> <a id="17435" class="Symbol">(</a><a id="17436" href="#17422" class="Bound">A</a> <a id="17438" class="Symbol">→</a> <a id="17440" href="#17344" class="Bound">M</a> <a id="17442" href="#17424" class="Bound">B</a><a id="17443" class="Symbol">)</a> <a id="17445" class="Symbol">→</a> <a id="17447" class="Symbol">(</a><a id="17448" href="#17344" class="Bound">M</a> <a id="17450" href="#17422" class="Bound">A</a> <a id="17452" class="Symbol">→</a> <a id="17454" href="#17344" class="Bound">M</a> <a id="17456" href="#17424" class="Bound">B</a><a id="17457" class="Symbol">)</a>
    <a id="17463" class="Comment">-- extension axioms</a>
    <a id="KlslMon.ext-unitˡ"></a><a id="17487" href="#17487" class="Field">ext-unitˡ</a> <a id="17497" class="Symbol">:</a> <a id="17499" class="Symbol">∀</a> <a id="17501" class="Symbol">{</a><a id="17502" href="#17502" class="Bound">A</a> <a id="17504" class="Symbol">:</a> <a id="17506" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17509" class="Symbol">}</a>
      <a id="17517" class="Symbol">→</a> <a id="17519" class="Symbol">(</a><a id="17520" href="#17384" class="Field">unit</a> <a id="17525" class="Symbol">{</a><a id="17526" href="#17502" class="Bound">A</a><a id="17527" class="Symbol">}</a> <a id="17529" href="#17416" class="Field Operator">⋆</a><a id="17530" class="Symbol">)</a> <a id="17532" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="17534" href="/lagda/Function.Base.html#615" class="Function">id</a>
    <a id="KlslMon.ext-unitʳ"></a><a id="17541" href="#17541" class="Field">ext-unitʳ</a> <a id="17551" class="Symbol">:</a> <a id="17553" class="Symbol">∀</a> <a id="17555" class="Symbol">{</a><a id="17556" href="#17556" class="Bound">A</a> <a id="17558" href="#17558" class="Bound">B</a> <a id="17560" class="Symbol">:</a> <a id="17562" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17565" class="Symbol">}</a> <a id="17567" class="Symbol">{</a><a id="17568" href="#17568" class="Bound">f</a> <a id="17570" class="Symbol">:</a> <a id="17572" href="#17556" class="Bound">A</a> <a id="17574" class="Symbol">→</a> <a id="17576" href="#17344" class="Bound">M</a> <a id="17578" href="#17558" class="Bound">B</a><a id="17579" class="Symbol">}</a>
      <a id="17587" class="Symbol">→</a> <a id="17589" class="Symbol">(</a><a id="17590" href="#17568" class="Bound">f</a> <a id="17592" href="#17416" class="Field Operator">⋆</a><a id="17593" class="Symbol">)</a> <a id="17595" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="17597" href="#17384" class="Field">unit</a> <a id="17602" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="17604" href="#17568" class="Bound">f</a>
    <a id="KlslMon.ext-assoc"></a><a id="17610" href="#17610" class="Field">ext-assoc</a> <a id="17620" class="Symbol">:</a> <a id="17622" class="Symbol">∀</a> <a id="17624" class="Symbol">{</a><a id="17625" href="#17625" class="Bound">A</a> <a id="17627" href="#17627" class="Bound">B</a> <a id="17629" href="#17629" class="Bound">C</a> <a id="17631" class="Symbol">:</a> <a id="17633" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17636" class="Symbol">}</a> <a id="17638" class="Symbol">{</a><a id="17639" href="#17639" class="Bound">f</a> <a id="17641" class="Symbol">:</a> <a id="17643" href="#17625" class="Bound">A</a> <a id="17645" class="Symbol">→</a> <a id="17647" href="#17344" class="Bound">M</a> <a id="17649" href="#17627" class="Bound">B</a><a id="17650" class="Symbol">}</a> <a id="17652" class="Symbol">{</a><a id="17653" href="#17653" class="Bound">g</a> <a id="17655" class="Symbol">:</a> <a id="17657" href="#17627" class="Bound">B</a> <a id="17659" class="Symbol">→</a> <a id="17661" href="#17344" class="Bound">M</a> <a id="17663" href="#17629" class="Bound">C</a><a id="17664" class="Symbol">}</a>
      <a id="17672" class="Symbol">→</a> <a id="17674" class="Symbol">((</a><a id="17676" href="#17653" class="Bound">g</a> <a id="17678" href="#17416" class="Field Operator">⋆</a><a id="17679" class="Symbol">)</a> <a id="17681" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="17683" href="#17639" class="Bound">f</a><a id="17684" class="Symbol">)</a><a id="17685" href="#17416" class="Field Operator">⋆</a> <a id="17687" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="17689" class="Symbol">(</a><a id="17690" href="#17653" class="Bound">g</a> <a id="17692" href="#17416" class="Field Operator">⋆</a><a id="17693" class="Symbol">)</a> <a id="17695" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="17697" class="Symbol">(</a><a id="17698" href="#17639" class="Bound">f</a> <a id="17700" href="#17416" class="Field Operator">⋆</a><a id="17701" class="Symbol">)</a>
  <a id="17705" class="Comment">---</a>
  <a id="KlslMon._&gt;=&gt;_"></a><a id="17711" href="#17711" class="Function Operator">_&gt;=&gt;_</a> <a id="17717" class="Symbol">:</a> <a id="17719" class="Symbol">{</a><a id="17720" href="#17720" class="Bound">A</a> <a id="17722" href="#17722" class="Bound">B</a> <a id="17724" href="#17724" class="Bound">C</a> <a id="17726" class="Symbol">:</a> <a id="17728" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17731" class="Symbol">}</a> <a id="17733" class="Symbol">→</a> <a id="17735" class="Symbol">(</a><a id="17736" href="#17720" class="Bound">A</a> <a id="17738" class="Symbol">→</a> <a id="17740" href="#17344" class="Bound">M</a> <a id="17742" href="#17722" class="Bound">B</a><a id="17743" class="Symbol">)</a> <a id="17745" class="Symbol">→</a> <a id="17747" class="Symbol">(</a><a id="17748" href="#17722" class="Bound">B</a> <a id="17750" class="Symbol">→</a> <a id="17752" href="#17344" class="Bound">M</a> <a id="17754" href="#17724" class="Bound">C</a><a id="17755" class="Symbol">)</a> <a id="17757" class="Symbol">→</a> <a id="17759" class="Symbol">(</a><a id="17760" href="#17720" class="Bound">A</a> <a id="17762" class="Symbol">→</a> <a id="17764" href="#17344" class="Bound">M</a> <a id="17766" href="#17724" class="Bound">C</a><a id="17767" class="Symbol">)</a>
  <a id="17771" href="#17711" class="Function Operator">_&gt;=&gt;_</a> <a id="17777" href="#17777" class="Bound">f</a> <a id="17779" href="#17779" class="Bound">g</a> <a id="17781" class="Symbol">=</a> <a id="17783" class="Symbol">(</a><a id="17784" href="#17779" class="Bound">g</a> <a id="17786" href="#17416" class="Field Operator">⋆</a><a id="17787" class="Symbol">)</a> <a id="17789" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="17791" href="#17777" class="Bound">f</a>
  <a id="17795" class="Comment">-- monadicity</a>
  <a id="KlslMon.unitˡ"></a><a id="17811" href="#17811" class="Function">unitˡ</a> <a id="17817" class="Symbol">:</a> <a id="17819" class="Symbol">∀</a> <a id="17821" class="Symbol">{</a><a id="17822" href="#17822" class="Bound">A</a> <a id="17824" href="#17824" class="Bound">C</a> <a id="17826" class="Symbol">:</a> <a id="17828" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17831" class="Symbol">}</a> <a id="17833" class="Symbol">{</a><a id="17834" href="#17834" class="Bound">g</a> <a id="17836" class="Symbol">:</a> <a id="17838" href="#17822" class="Bound">A</a> <a id="17840" class="Symbol">→</a> <a id="17842" href="#17344" class="Bound">M</a> <a id="17844" href="#17824" class="Bound">C</a><a id="17845" class="Symbol">}</a>
    <a id="17851" class="Symbol">→</a> <a id="17853" href="#17384" class="Field">unit</a> <a id="17858" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="17862" href="#17834" class="Bound">g</a> <a id="17864" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="17866" href="#17834" class="Bound">g</a>
  <a id="17870" href="#17811" class="Function">unitˡ</a> <a id="17876" class="Symbol">{_}</a> <a id="17880" class="Symbol">{_}</a> <a id="17884" class="Symbol">{</a><a id="17885" href="#17885" class="Bound">g</a><a id="17886" class="Symbol">}</a> <a id="17888" class="Symbol">=</a>
    <a id="17894" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="17906" href="#17384" class="Field">unit</a> <a id="17911" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="17915" href="#17885" class="Bound">g</a>    <a id="17920" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="17930" class="Symbol">(</a><a id="17931" href="#17885" class="Bound">g</a> <a id="17933" href="#17416" class="Field Operator">⋆</a><a id="17934" class="Symbol">)</a> <a id="17936" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="17938" href="#17384" class="Field">unit</a>  <a id="17944" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="17947" href="#17541" class="Field">ext-unitʳ</a> <a id="17957" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="17965" href="#17885" class="Bound">g</a>
    <a id="17971" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="KlslMon.unitʳ"></a><a id="17975" href="#17975" class="Function">unitʳ</a> <a id="17981" class="Symbol">:</a> <a id="17983" class="Symbol">∀</a> <a id="17985" class="Symbol">{</a><a id="17986" href="#17986" class="Bound">A</a> <a id="17988" href="#17988" class="Bound">B</a> <a id="17990" class="Symbol">:</a> <a id="17992" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="17995" class="Symbol">}</a> <a id="17997" class="Symbol">{</a><a id="17998" href="#17998" class="Bound">f</a> <a id="18000" class="Symbol">:</a> <a id="18002" href="#17986" class="Bound">A</a> <a id="18004" class="Symbol">→</a> <a id="18006" href="#17344" class="Bound">M</a> <a id="18008" href="#17988" class="Bound">B</a><a id="18009" class="Symbol">}</a>
    <a id="18015" class="Symbol">→</a> <a id="18017" href="#17998" class="Bound">f</a> <a id="18019" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18023" href="#17384" class="Field">unit</a> <a id="18028" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="18030" href="#17998" class="Bound">f</a>
  <a id="18034" href="#17975" class="Function">unitʳ</a> <a id="18040" class="Symbol">{_}</a> <a id="18044" class="Symbol">{_}</a> <a id="18048" class="Symbol">{</a><a id="18049" href="#18049" class="Bound">f</a><a id="18050" class="Symbol">}</a> <a id="18052" class="Symbol">=</a>
    <a id="18058" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="18070" href="#18049" class="Bound">f</a> <a id="18072" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18076" href="#17384" class="Field">unit</a>    <a id="18084" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="18094" class="Symbol">(</a><a id="18095" href="#17384" class="Field">unit</a> <a id="18100" href="#17416" class="Field Operator">⋆</a><a id="18101" class="Symbol">)</a> <a id="18103" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18105" href="#18049" class="Bound">f</a>  <a id="18108" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="18111" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="18116" class="Symbol">(</a><a id="18117" href="/lagda/Function.Base.html#1031" class="Function Operator">_∘</a> <a id="18120" href="#18049" class="Bound">f</a><a id="18121" class="Symbol">)</a> <a id="18123" href="#17487" class="Field">ext-unitˡ</a> <a id="18133" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="18141" href="#18049" class="Bound">f</a>
    <a id="18147" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
  <a id="KlslMon.assoc"></a><a id="18151" href="#18151" class="Function">assoc</a> <a id="18157" class="Symbol">:</a> <a id="18159" class="Symbol">∀</a> <a id="18161" class="Symbol">{</a><a id="18162" href="#18162" class="Bound">A</a> <a id="18164" href="#18164" class="Bound">B</a> <a id="18166" href="#18166" class="Bound">C</a> <a id="18168" href="#18168" class="Bound">D</a> <a id="18170" class="Symbol">:</a> <a id="18172" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="18175" class="Symbol">}</a> <a id="18177" class="Symbol">{</a><a id="18178" href="#18178" class="Bound">f</a> <a id="18180" class="Symbol">:</a> <a id="18182" href="#18162" class="Bound">A</a> <a id="18184" class="Symbol">→</a> <a id="18186" href="#17344" class="Bound">M</a> <a id="18188" href="#18164" class="Bound">B</a><a id="18189" class="Symbol">}</a> <a id="18191" class="Symbol">{</a><a id="18192" href="#18192" class="Bound">g</a> <a id="18194" class="Symbol">:</a> <a id="18196" href="#18164" class="Bound">B</a> <a id="18198" class="Symbol">→</a> <a id="18200" href="#17344" class="Bound">M</a> <a id="18202" href="#18166" class="Bound">C</a><a id="18203" class="Symbol">}</a> <a id="18205" class="Symbol">{</a><a id="18206" href="#18206" class="Bound">h</a> <a id="18208" class="Symbol">:</a> <a id="18210" href="#18166" class="Bound">C</a> <a id="18212" class="Symbol">→</a> <a id="18214" href="#17344" class="Bound">M</a> <a id="18216" href="#18168" class="Bound">D</a><a id="18217" class="Symbol">}</a>
    <a id="18223" class="Symbol">→</a> <a id="18225" class="Symbol">(</a><a id="18226" href="#18178" class="Bound">f</a> <a id="18228" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18232" href="#18192" class="Bound">g</a><a id="18233" class="Symbol">)</a> <a id="18235" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18239" href="#18206" class="Bound">h</a> <a id="18241" href="/lagda/Agda.Builtin.Equality.html#124" class="Datatype Operator">≡</a> <a id="18243" href="#18178" class="Bound">f</a> <a id="18245" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18249" class="Symbol">(</a><a id="18250" href="#18192" class="Bound">g</a> <a id="18252" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18256" href="#18206" class="Bound">h</a><a id="18257" class="Symbol">)</a>
  <a id="18261" href="#18151" class="Function">assoc</a> <a id="18267" class="Symbol">{_}</a> <a id="18271" class="Symbol">{_}</a> <a id="18275" class="Symbol">{_}</a> <a id="18279" class="Symbol">{_}</a> <a id="18283" class="Symbol">{</a><a id="18284" href="#18284" class="Bound">f</a><a id="18285" class="Symbol">}</a> <a id="18287" class="Symbol">{</a><a id="18288" href="#18288" class="Bound">g</a><a id="18289" class="Symbol">}</a> <a id="18291" class="Symbol">{</a><a id="18292" href="#18292" class="Bound">h</a><a id="18293" class="Symbol">}</a> <a id="18295" class="Symbol">=</a>
    <a id="18301" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
      <a id="18313" class="Symbol">(</a><a id="18314" href="#18284" class="Bound">f</a> <a id="18316" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18320" href="#18288" class="Bound">g</a><a id="18321" class="Symbol">)</a> <a id="18323" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18327" href="#18292" class="Bound">h</a>      <a id="18334" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="18344" class="Symbol">(</a><a id="18345" href="#18292" class="Bound">h</a> <a id="18347" href="#17416" class="Field Operator">⋆</a><a id="18348" class="Symbol">)</a> <a id="18350" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18352" class="Symbol">((</a><a id="18354" href="#18288" class="Bound">g</a> <a id="18356" href="#17416" class="Field Operator">⋆</a><a id="18357" class="Symbol">)</a> <a id="18359" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18361" href="#18284" class="Bound">f</a><a id="18362" class="Symbol">)</a>  <a id="18365" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="18375" class="Symbol">((</a><a id="18377" href="#18292" class="Bound">h</a> <a id="18379" href="#17416" class="Field Operator">⋆</a><a id="18380" class="Symbol">)</a> <a id="18382" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18384" class="Symbol">(</a><a id="18385" href="#18288" class="Bound">g</a> <a id="18387" href="#17416" class="Field Operator">⋆</a><a id="18388" class="Symbol">))</a> <a id="18391" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18393" href="#18284" class="Bound">f</a>  <a id="18396" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="18399" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="18404" class="Symbol">(</a><a id="18405" href="/lagda/Function.Base.html#1031" class="Function Operator">_∘</a> <a id="18408" href="#18284" class="Bound">f</a><a id="18409" class="Symbol">)</a> <a id="18411" class="Symbol">(</a><a id="18412" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="18416" href="#17610" class="Field">ext-assoc</a><a id="18425" class="Symbol">)</a> <a id="18427" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
      <a id="18435" class="Symbol">(((</a><a id="18438" href="#18292" class="Bound">h</a> <a id="18440" href="#17416" class="Field Operator">⋆</a><a id="18441" class="Symbol">)</a> <a id="18443" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18445" href="#18288" class="Bound">g</a><a id="18446" class="Symbol">)</a><a id="18447" href="#17416" class="Field Operator">⋆</a><a id="18448" class="Symbol">)</a> <a id="18450" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="18452" href="#18284" class="Bound">f</a>   <a id="18456" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
      <a id="18466" href="#18284" class="Bound">f</a> <a id="18468" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18472" class="Symbol">(</a><a id="18473" href="#18288" class="Bound">g</a> <a id="18475" href="#17711" class="Function Operator">&gt;=&gt;</a> <a id="18479" href="#18292" class="Bound">h</a><a id="18480" class="Symbol">)</a>
    <a id="18486" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
</pre>
<p>We are now ready for the last stretch.</p>

<p>Scroll way down for the final remarks.</p>

<h2 id="aesthetes-vs-everyone">Aesthetes VS everyone</h2>

<pre class="Agda"><a id="MathMon→KlslMon"></a><a id="18609" href="#18609" class="Function">MathMon→KlslMon</a> <a id="18625" class="Symbol">:</a> <a id="18627" class="Symbol">{</a><a id="18628" href="#18628" class="Bound">M</a> <a id="18630" class="Symbol">:</a> <a id="18632" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="18636" class="Symbol">→</a> <a id="18638" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="18641" class="Symbol">}</a> <a id="18643" class="Symbol">→</a> <a id="18645" href="#3738" class="Record">MathMon</a> <a id="18653" href="#18628" class="Bound">M</a> <a id="18655" class="Symbol">→</a> <a id="18657" href="#17335" class="Record">KlslMon</a> <a id="18665" href="#18628" class="Bound">M</a>
<a id="18667" href="#18609" class="Function">MathMon→KlslMon</a> <a id="18683" class="Symbol">{</a><a id="18684" href="#18684" class="Bound">M</a><a id="18685" class="Symbol">}</a>
  <a id="18689" class="Keyword">record</a>
    <a id="18700" class="Symbol">{</a> <a id="18702" href="#3787" class="Field">fmap</a> <a id="18707" class="Symbol">=</a> <a id="18709" href="#18709" class="Bound">fmap</a>
    <a id="18718" class="Symbol">;</a> <a id="18720" href="#3832" class="Field">unit</a> <a id="18725" class="Symbol">=</a> <a id="18727" href="#18727" class="Bound">unit</a>
    <a id="18736" class="Symbol">;</a> <a id="18738" href="#3863" class="Field">mult</a> <a id="18743" class="Symbol">=</a> <a id="18745" href="#18745" class="Bound">mult</a>
    <a id="18754" class="Symbol">;</a> <a id="18756" href="#3967" class="Field">fun-comp</a> <a id="18765" class="Symbol">=</a> <a id="18767" href="#18767" class="Bound">fun-comp</a>
    <a id="18780" class="Symbol">;</a> <a id="18782" href="#3921" class="Field">fun-idty</a> <a id="18791" class="Symbol">=</a> <a id="18793" class="Symbol">_</a>
    <a id="18799" class="Symbol">;</a> <a id="18801" href="#4077" class="Field">nat-unit</a> <a id="18810" class="Symbol">=</a> <a id="18812" href="#18812" class="Bound">nat-unit</a>
    <a id="18825" class="Symbol">;</a> <a id="18827" href="#4147" class="Field">nat-mult</a> <a id="18836" class="Symbol">=</a> <a id="18838" href="#18838" class="Bound">nat-mult</a>
    <a id="18851" class="Symbol">;</a> <a id="18853" href="#4294" class="Field">unitʳ</a> <a id="18859" class="Symbol">=</a> <a id="18861" href="#18861" class="Bound">unitʳ</a>
    <a id="18871" class="Symbol">;</a> <a id="18873" href="#4247" class="Field">unitˡ</a> <a id="18879" class="Symbol">=</a> <a id="18881" href="#18881" class="Bound">unitˡ</a>
    <a id="18891" class="Symbol">;</a> <a id="18893" href="#4346" class="Field">assoc</a> <a id="18899" class="Symbol">=</a> <a id="18901" href="#18901" class="Bound">assoc</a>
    <a id="18911" class="Symbol">}</a>
  <a id="18915" class="Symbol">=</a>
  <a id="18919" class="Keyword">record</a>
    <a id="18930" class="Symbol">{</a> <a id="18932" href="#17384" class="Field">unit</a> <a id="18937" class="Symbol">=</a> <a id="18939" href="#18727" class="Bound">unit</a>
    <a id="18948" class="Symbol">;</a> <a id="18950" href="#17416" class="Field Operator">_⋆</a> <a id="18953" class="Symbol">=</a> <a id="18955" href="#19880" class="Function Operator">_⋆</a>
    <a id="18962" class="Symbol">;</a> <a id="18964" href="#17487" class="Field">ext-unitˡ</a> <a id="18974" class="Symbol">=</a> <a id="18976" class="Symbol">λ</a> <a id="18978" class="Symbol">{</a><a id="18979" href="#18979" class="Bound">_</a><a id="18980" class="Symbol">}</a> <a id="18982" class="Symbol">→</a>
      <a id="18990" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="19004" class="Symbol">(</a><a id="19005" href="#18727" class="Bound">unit</a> <a id="19010" href="#19880" class="Function Operator">⋆</a><a id="19011" class="Symbol">)</a>          <a id="19022" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="19034" href="#18745" class="Bound">mult</a> <a id="19039" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19041" href="#18709" class="Bound">fmap</a> <a id="19046" href="#18727" class="Bound">unit</a>  <a id="19052" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19055" href="#18861" class="Bound">unitʳ</a> <a id="19061" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19071" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="19080" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="19086" class="Symbol">;</a> <a id="19088" href="#17541" class="Field">ext-unitʳ</a> <a id="19098" class="Symbol">=</a> <a id="19100" class="Symbol">λ</a> <a id="19102" class="Symbol">{</a><a id="19103" href="#19103" class="Bound">_</a><a id="19104" class="Symbol">}</a> <a id="19106" class="Symbol">{</a><a id="19107" href="#19107" class="Bound">_</a><a id="19108" class="Symbol">}</a> <a id="19110" class="Symbol">{</a><a id="19111" href="#19111" class="Bound">f</a><a id="19112" class="Symbol">}</a> <a id="19114" class="Symbol">→</a>
      <a id="19122" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="19136" class="Symbol">(</a><a id="19137" href="#19111" class="Bound">f</a> <a id="19139" href="#19880" class="Function Operator">⋆</a><a id="19140" class="Symbol">)</a> <a id="19142" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19144" href="#18727" class="Bound">unit</a>          <a id="19158" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="19170" href="#18745" class="Bound">mult</a> <a id="19175" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19177" href="#18709" class="Bound">fmap</a> <a id="19182" href="#19111" class="Bound">f</a> <a id="19184" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19186" href="#18727" class="Bound">unit</a>  <a id="19192" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19195" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19200" class="Symbol">(</a><a id="19201" href="#18745" class="Bound">mult</a> <a id="19206" href="/lagda/Function.Base.html#1031" class="Function Operator">∘_</a><a id="19208" class="Symbol">)</a> <a id="19210" href="#18812" class="Bound">nat-unit</a> <a id="19219" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19229" href="#18745" class="Bound">mult</a> <a id="19234" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19236" href="#18727" class="Bound">unit</a> <a id="19241" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19243" href="#19111" class="Bound">f</a>       <a id="19251" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19254" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19259" class="Symbol">(</a><a id="19260" href="/lagda/Function.Base.html#1031" class="Function Operator">_∘</a> <a id="19263" href="#19111" class="Bound">f</a><a id="19264" class="Symbol">)</a> <a id="19266" href="#18881" class="Bound">unitˡ</a> <a id="19272" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19282" href="#19111" class="Bound">f</a>
      <a id="19290" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="19296" class="Symbol">;</a> <a id="19298" href="#17610" class="Field">ext-assoc</a> <a id="19308" class="Symbol">=</a> <a id="19310" class="Symbol">λ</a> <a id="19312" class="Symbol">{</a><a id="19313" href="#19313" class="Bound">_</a><a id="19314" class="Symbol">}</a> <a id="19316" class="Symbol">{</a><a id="19317" href="#19317" class="Bound">_</a><a id="19318" class="Symbol">}</a> <a id="19320" class="Symbol">{</a><a id="19321" href="#19321" class="Bound">_</a><a id="19322" class="Symbol">}</a> <a id="19324" class="Symbol">{</a><a id="19325" href="#19325" class="Bound">f</a><a id="19326" class="Symbol">}</a> <a id="19328" class="Symbol">{</a><a id="19329" href="#19329" class="Bound">g</a><a id="19330" class="Symbol">}</a> <a id="19332" class="Symbol">→</a>
      <a id="19340" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="19354" class="Symbol">(((</a><a id="19357" href="#19329" class="Bound">g</a> <a id="19359" href="#19880" class="Function Operator">⋆</a><a id="19360" class="Symbol">)</a> <a id="19362" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19364" href="#19325" class="Bound">f</a><a id="19365" class="Symbol">)</a> <a id="19367" href="#19880" class="Function Operator">⋆</a><a id="19368" class="Symbol">)</a>                            <a id="19397" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="19409" href="#18745" class="Bound">mult</a> <a id="19414" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19416" href="#18709" class="Bound">fmap</a> <a id="19421" class="Symbol">(</a><a id="19422" href="#18745" class="Bound">mult</a> <a id="19427" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19429" href="#18709" class="Bound">fmap</a> <a id="19434" href="#19329" class="Bound">g</a> <a id="19436" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19438" href="#19325" class="Bound">f</a><a id="19439" class="Symbol">)</a>            <a id="19452" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19455" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19460" class="Symbol">(</a><a id="19461" href="#18745" class="Bound">mult</a> <a id="19466" href="/lagda/Function.Base.html#1031" class="Function Operator">∘_</a><a id="19468" class="Symbol">)</a> <a id="19470" href="#18767" class="Bound">fun-comp</a> <a id="19479" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19489" href="#18745" class="Bound">mult</a> <a id="19494" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19496" href="#18709" class="Bound">fmap</a> <a id="19501" href="#18745" class="Bound">mult</a> <a id="19506" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19508" href="#18709" class="Bound">fmap</a> <a id="19513" class="Symbol">(</a><a id="19514" href="#18709" class="Bound">fmap</a> <a id="19519" href="#19329" class="Bound">g</a> <a id="19521" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19523" href="#19325" class="Bound">f</a><a id="19524" class="Symbol">)</a>       <a id="19532" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19535" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19540" class="Symbol">((</a><a id="19542" href="#18745" class="Bound">mult</a> <a id="19547" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19549" href="#18709" class="Bound">fmap</a> <a id="19554" href="#18745" class="Bound">mult</a><a id="19558" class="Symbol">)</a> <a id="19560" href="/lagda/Function.Base.html#1031" class="Function Operator">∘_</a><a id="19562" class="Symbol">)</a> <a id="19564" href="#18767" class="Bound">fun-comp</a> <a id="19573" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19583" href="#18745" class="Bound">mult</a> <a id="19588" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19590" href="#18709" class="Bound">fmap</a> <a id="19595" href="#18745" class="Bound">mult</a> <a id="19600" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19602" href="#18709" class="Bound">fmap</a> <a id="19607" class="Symbol">(</a><a id="19608" href="#18709" class="Bound">fmap</a> <a id="19613" href="#19329" class="Bound">g</a><a id="19614" class="Symbol">)</a> <a id="19616" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19618" href="#18709" class="Bound">fmap</a> <a id="19623" href="#19325" class="Bound">f</a>  <a id="19626" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19629" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19634" class="Symbol">(</a><a id="19635" href="/lagda/Function.Base.html#1031" class="Function Operator">_∘</a> <a id="19638" class="Symbol">(</a><a id="19639" href="#18709" class="Bound">fmap</a> <a id="19644" class="Symbol">(</a><a id="19645" href="#18709" class="Bound">fmap</a> <a id="19650" href="#19329" class="Bound">g</a><a id="19651" class="Symbol">)</a> <a id="19653" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19655" href="#18709" class="Bound">fmap</a> <a id="19660" href="#19325" class="Bound">f</a><a id="19661" class="Symbol">))</a> <a id="19664" href="#18901" class="Bound">assoc</a> <a id="19670" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19680" href="#18745" class="Bound">mult</a> <a id="19685" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19687" href="#18745" class="Bound">mult</a> <a id="19692" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19694" href="#18709" class="Bound">fmap</a> <a id="19699" class="Symbol">(</a><a id="19700" href="#18709" class="Bound">fmap</a> <a id="19705" href="#19329" class="Bound">g</a><a id="19706" class="Symbol">)</a> <a id="19708" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19710" href="#18709" class="Bound">fmap</a> <a id="19715" href="#19325" class="Bound">f</a>       <a id="19723" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="19726" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="19731" class="Symbol">(λ</a> <a id="19734" href="#19734" class="Bound">h</a> <a id="19736" class="Symbol">→</a> <a id="19738" class="Symbol">(</a><a id="19739" href="#18745" class="Bound">mult</a> <a id="19744" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19746" href="#19734" class="Bound">h</a> <a id="19748" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19750" href="#18709" class="Bound">fmap</a> <a id="19755" href="#19325" class="Bound">f</a><a id="19756" class="Symbol">))</a> <a id="19759" class="Symbol">(</a><a id="19760" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="19764" href="#18838" class="Bound">nat-mult</a><a id="19772" class="Symbol">)</a> <a id="19774" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="19784" href="#18745" class="Bound">mult</a> <a id="19789" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19791" href="#18709" class="Bound">fmap</a> <a id="19796" href="#19329" class="Bound">g</a> <a id="19798" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19800" href="#18745" class="Bound">mult</a> <a id="19805" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19807" href="#18709" class="Bound">fmap</a> <a id="19812" href="#19325" class="Bound">f</a>              <a id="19827" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="19839" class="Symbol">(</a><a id="19840" href="#19329" class="Bound">g</a> <a id="19842" href="#19880" class="Function Operator">⋆</a><a id="19843" class="Symbol">)</a> <a id="19845" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19847" class="Symbol">(</a><a id="19848" href="#19325" class="Bound">f</a> <a id="19850" href="#19880" class="Function Operator">⋆</a><a id="19851" class="Symbol">)</a>
      <a id="19859" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>

    <a id="19866" class="Symbol">}</a>
  <a id="19870" class="Keyword">where</a>
    <a id="19880" href="#19880" class="Function Operator">_⋆</a> <a id="19883" class="Symbol">:</a> <a id="19885" class="Symbol">{</a><a id="19886" href="#19886" class="Bound">A</a> <a id="19888" href="#19888" class="Bound">B</a> <a id="19890" class="Symbol">:</a> <a id="19892" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="19895" class="Symbol">}</a> <a id="19897" class="Symbol">→</a> <a id="19899" class="Symbol">(</a><a id="19900" href="#19886" class="Bound">A</a> <a id="19902" class="Symbol">→</a> <a id="19904" href="#18684" class="Bound">M</a> <a id="19906" href="#19888" class="Bound">B</a><a id="19907" class="Symbol">)</a> <a id="19909" class="Symbol">→</a> <a id="19911" class="Symbol">(</a><a id="19912" href="#18684" class="Bound">M</a> <a id="19914" href="#19886" class="Bound">A</a> <a id="19916" class="Symbol">→</a> <a id="19918" href="#18684" class="Bound">M</a> <a id="19920" href="#19888" class="Bound">B</a><a id="19921" class="Symbol">)</a>
    <a id="19927" href="#19880" class="Function Operator">_⋆</a> <a id="19930" href="#19930" class="Bound">f</a> <a id="19932" class="Symbol">=</a> <a id="19934" href="#18745" class="Bound">mult</a> <a id="19939" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="19941" href="#18709" class="Bound">fmap</a> <a id="19946" href="#19930" class="Bound">f</a>
</pre>
<pre class="Agda"><a id="KlslMon→MathMon"></a><a id="19961" href="#19961" class="Function">KlslMon→MathMon</a> <a id="19977" class="Symbol">:</a> <a id="19979" class="Symbol">{</a><a id="19980" href="#19980" class="Bound">M</a> <a id="19982" class="Symbol">:</a> <a id="19984" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="19988" class="Symbol">→</a> <a id="19990" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="19993" class="Symbol">}</a> <a id="19995" class="Symbol">→</a> <a id="19997" href="#17335" class="Record">KlslMon</a> <a id="20005" href="#19980" class="Bound">M</a> <a id="20007" class="Symbol">→</a> <a id="20009" href="#3738" class="Record">MathMon</a> <a id="20017" href="#19980" class="Bound">M</a>
<a id="20019" href="#19961" class="Function">KlslMon→MathMon</a> <a id="20035" class="Symbol">{</a><a id="20036" href="#20036" class="Bound">M</a><a id="20037" class="Symbol">}</a>
  <a id="20041" class="Keyword">record</a>
    <a id="20052" class="Symbol">{</a> <a id="20054" href="#17384" class="Field">unit</a> <a id="20059" class="Symbol">=</a> <a id="20061" href="#20061" class="Bound">unit</a>
    <a id="20070" class="Symbol">;</a> <a id="20072" href="#17416" class="Field Operator">_⋆</a> <a id="20075" class="Symbol">=</a> <a id="20077" href="#20077" class="Bound Operator">_⋆</a>
    <a id="20084" class="Symbol">;</a> <a id="20086" href="#17487" class="Field">ext-unitˡ</a> <a id="20096" class="Symbol">=</a> <a id="20098" href="#20098" class="Bound">ext-unitˡ</a>
    <a id="20112" class="Symbol">;</a> <a id="20114" href="#17541" class="Field">ext-unitʳ</a> <a id="20124" class="Symbol">=</a> <a id="20126" href="#20126" class="Bound">ext-unitʳ</a>
    <a id="20140" class="Symbol">;</a> <a id="20142" href="#17610" class="Field">ext-assoc</a> <a id="20152" class="Symbol">=</a> <a id="20154" href="#20154" class="Bound">ext-assoc</a>
    <a id="20168" class="Symbol">}</a>
  <a id="20172" class="Symbol">=</a>
  <a id="20176" class="Keyword">record</a>
    <a id="20187" class="Symbol">{</a> <a id="20189" href="#3787" class="Field">fmap</a> <a id="20194" class="Symbol">=</a> <a id="20196" href="#22019" class="Function">fmap</a>
    <a id="20205" class="Symbol">;</a> <a id="20207" href="#3832" class="Field">unit</a> <a id="20212" class="Symbol">=</a> <a id="20214" href="#20061" class="Bound">unit</a>
    <a id="20223" class="Symbol">;</a> <a id="20225" href="#3863" class="Field">mult</a> <a id="20230" class="Symbol">=</a> <a id="20232" href="#22090" class="Function">mult</a>
    <a id="20241" class="Symbol">;</a> <a id="20243" href="#3967" class="Field">fun-comp</a> <a id="20252" class="Symbol">=</a> <a id="20254" class="Symbol">λ</a> <a id="20256" class="Symbol">{</a><a id="20257" href="#20257" class="Bound">_</a><a id="20258" class="Symbol">}</a> <a id="20260" class="Symbol">{</a><a id="20261" href="#20261" class="Bound">_</a><a id="20262" class="Symbol">}</a> <a id="20264" class="Symbol">{</a><a id="20265" href="#20265" class="Bound">_</a><a id="20266" class="Symbol">}</a> <a id="20268" class="Symbol">{</a><a id="20269" href="#20269" class="Bound">f</a><a id="20270" class="Symbol">}</a> <a id="20272" class="Symbol">{</a><a id="20273" href="#20273" class="Bound">g</a><a id="20274" class="Symbol">}</a> <a id="20276" class="Symbol">→</a>
      <a id="20284" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="20298" href="#22019" class="Function">fmap</a> <a id="20303" class="Symbol">(</a><a id="20304" href="#20269" class="Bound">f</a> <a id="20306" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20308" href="#20273" class="Bound">g</a><a id="20309" class="Symbol">)</a>                <a id="20326" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="20338" class="Symbol">(</a><a id="20339" href="#20061" class="Bound">unit</a> <a id="20344" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20346" href="#20269" class="Bound">f</a> <a id="20348" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20350" href="#20273" class="Bound">g</a><a id="20351" class="Symbol">)</a><a id="20352" href="#20077" class="Bound Operator">⋆</a>             <a id="20366" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="20369" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="20374" class="Symbol">(λ</a> <a id="20377" href="#20377" class="Bound">h</a> <a id="20379" class="Symbol">→</a> <a id="20381" class="Symbol">(</a><a id="20382" href="#20377" class="Bound">h</a> <a id="20384" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20386" href="#20273" class="Bound">g</a><a id="20387" class="Symbol">)</a><a id="20388" href="#20077" class="Bound Operator">⋆</a><a id="20389" class="Symbol">)</a> <a id="20391" class="Symbol">(</a><a id="20392" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="20396" href="#20126" class="Bound">ext-unitʳ</a><a id="20405" class="Symbol">)</a> <a id="20407" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="20417" class="Symbol">((</a><a id="20419" href="#20061" class="Bound">unit</a> <a id="20424" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20426" href="#20269" class="Bound">f</a><a id="20427" class="Symbol">)</a><a id="20428" href="#20077" class="Bound Operator">⋆</a> <a id="20430" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20432" href="#20061" class="Bound">unit</a> <a id="20437" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20439" href="#20273" class="Bound">g</a><a id="20440" class="Symbol">)</a><a id="20441" href="#20077" class="Bound Operator">⋆</a>   <a id="20445" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="20448" href="#20154" class="Bound">ext-assoc</a> <a id="20458" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="20468" class="Symbol">(</a><a id="20469" href="#20061" class="Bound">unit</a> <a id="20474" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20476" href="#20269" class="Bound">f</a><a id="20477" class="Symbol">)</a><a id="20478" href="#20077" class="Bound Operator">⋆</a> <a id="20480" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20482" class="Symbol">(</a><a id="20483" href="#20061" class="Bound">unit</a> <a id="20488" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20490" href="#20273" class="Bound">g</a><a id="20491" class="Symbol">)</a><a id="20492" href="#20077" class="Bound Operator">⋆</a>   <a id="20496" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="20508" href="#22019" class="Function">fmap</a> <a id="20513" href="#20269" class="Bound">f</a> <a id="20515" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20517" href="#22019" class="Function">fmap</a> <a id="20522" href="#20273" class="Bound">g</a>
      <a id="20530" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="20536" class="Symbol">;</a> <a id="20538" href="#3921" class="Field">fun-idty</a> <a id="20547" class="Symbol">=</a>
      <a id="20555" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="20569" href="#22019" class="Function">fmap</a> <a id="20574" href="/lagda/Function.Base.html#615" class="Function">id</a>       <a id="20583" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="20595" class="Symbol">(</a><a id="20596" href="#20061" class="Bound">unit</a> <a id="20601" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20603" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="20605" class="Symbol">)</a><a id="20606" href="#20077" class="Bound Operator">⋆</a>  <a id="20609" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="20621" href="#20061" class="Bound">unit</a> <a id="20626" href="#20077" class="Bound Operator">⋆</a>        <a id="20635" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="20638" href="#20098" class="Bound">ext-unitˡ</a> <a id="20648" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="20658" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="20667" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="20673" class="Symbol">;</a> <a id="20675" href="#4077" class="Field">nat-unit</a> <a id="20684" class="Symbol">=</a> <a id="20686" class="Symbol">λ</a> <a id="20688" class="Symbol">{</a><a id="20689" href="#20689" class="Bound">_</a><a id="20690" class="Symbol">}</a> <a id="20692" class="Symbol">{</a><a id="20693" href="#20693" class="Bound">_</a><a id="20694" class="Symbol">}</a> <a id="20696" class="Symbol">{</a><a id="20697" href="#20697" class="Bound">f</a><a id="20698" class="Symbol">}</a> <a id="20700" class="Symbol">→</a>
      <a id="20708" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="20722" href="#22019" class="Function">fmap</a> <a id="20727" href="#20697" class="Bound">f</a> <a id="20729" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20731" href="#20061" class="Bound">unit</a>       <a id="20742" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="20754" class="Symbol">(</a><a id="20755" href="#20061" class="Bound">unit</a> <a id="20760" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20762" href="#20697" class="Bound">f</a><a id="20763" class="Symbol">)</a><a id="20764" href="#20077" class="Bound Operator">⋆</a> <a id="20766" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20768" href="#20061" class="Bound">unit</a>  <a id="20774" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="20777" href="#20126" class="Bound">ext-unitʳ</a> <a id="20787" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="20797" href="#20061" class="Bound">unit</a> <a id="20802" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20804" href="#20697" class="Bound">f</a>
      <a id="20812" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="20818" class="Symbol">;</a> <a id="20820" href="#4147" class="Field">nat-mult</a> <a id="20829" class="Symbol">=</a> <a id="20831" class="Symbol">λ</a> <a id="20833" class="Symbol">{</a><a id="20834" href="#20834" class="Bound">_</a><a id="20835" class="Symbol">}</a> <a id="20837" class="Symbol">{</a><a id="20838" href="#20838" class="Bound">_</a><a id="20839" class="Symbol">}</a> <a id="20841" class="Symbol">{</a><a id="20842" href="#20842" class="Bound">f</a><a id="20843" class="Symbol">}</a> <a id="20845" class="Symbol">→</a>
      <a id="20853" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="20867" href="#22019" class="Function">fmap</a> <a id="20872" href="#20842" class="Bound">f</a> <a id="20874" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20876" href="#22090" class="Function">mult</a>                 <a id="20897" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="20909" class="Symbol">(</a><a id="20910" href="#20061" class="Bound">unit</a> <a id="20915" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20917" href="#20842" class="Bound">f</a><a id="20918" class="Symbol">)</a><a id="20919" href="#20077" class="Bound Operator">⋆</a> <a id="20921" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20923" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="20926" href="#20077" class="Bound Operator">⋆</a>            <a id="20939" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="20942" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="20946" href="#20154" class="Bound">ext-assoc</a> <a id="20956" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="20966" class="Symbol">((</a><a id="20968" href="#20061" class="Bound">unit</a> <a id="20973" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20975" href="#20842" class="Bound">f</a><a id="20976" class="Symbol">)</a><a id="20977" href="#20077" class="Bound Operator">⋆</a> <a id="20979" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="20981" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="20984" class="Symbol">)</a><a id="20985" href="#20077" class="Bound Operator">⋆</a>          <a id="20996" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21008" class="Symbol">(</a><a id="21009" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21012" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21014" class="Symbol">(</a><a id="21015" href="#20061" class="Bound">unit</a> <a id="21020" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21022" href="#20842" class="Bound">f</a><a id="21023" class="Symbol">)</a><a id="21024" href="#20077" class="Bound Operator">⋆</a><a id="21025" class="Symbol">)</a><a id="21026" href="#20077" class="Bound Operator">⋆</a>           <a id="21038" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21041" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="21046" class="Symbol">(λ</a> <a id="21049" href="#21049" class="Bound">h</a> <a id="21051" class="Symbol">→</a> <a id="21053" class="Symbol">(</a><a id="21054" href="#21049" class="Bound">h</a> <a id="21056" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21058" class="Symbol">(</a><a id="21059" href="#20061" class="Bound">unit</a> <a id="21064" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21066" href="#20842" class="Bound">f</a><a id="21067" class="Symbol">)</a><a id="21068" href="#20077" class="Bound Operator">⋆</a><a id="21069" class="Symbol">)</a><a id="21070" href="#20077" class="Bound Operator">⋆</a><a id="21071" class="Symbol">)</a> <a id="21073" class="Symbol">(</a><a id="21074" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="21078" href="#20126" class="Bound">ext-unitʳ</a><a id="21087" class="Symbol">)</a> <a id="21089" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21099" class="Symbol">(</a><a id="21100" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21103" href="#20077" class="Bound Operator">⋆</a> <a id="21105" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21107" href="#20061" class="Bound">unit</a> <a id="21112" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21114" class="Symbol">(</a><a id="21115" href="#20061" class="Bound">unit</a> <a id="21120" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21122" href="#20842" class="Bound">f</a><a id="21123" class="Symbol">)</a><a id="21124" href="#20077" class="Bound Operator">⋆</a><a id="21125" class="Symbol">)</a><a id="21126" href="#20077" class="Bound Operator">⋆</a>  <a id="21129" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21132" href="#20154" class="Bound">ext-assoc</a> <a id="21142" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21152" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21155" href="#20077" class="Bound Operator">⋆</a> <a id="21157" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21159" class="Symbol">(</a><a id="21160" href="#20061" class="Bound">unit</a> <a id="21165" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21167" class="Symbol">(</a><a id="21168" href="#20061" class="Bound">unit</a> <a id="21173" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21175" href="#20842" class="Bound">f</a><a id="21176" class="Symbol">)</a><a id="21177" href="#20077" class="Bound Operator">⋆</a><a id="21178" class="Symbol">)</a><a id="21179" href="#20077" class="Bound Operator">⋆</a>  <a id="21182" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21194" href="#22090" class="Function">mult</a> <a id="21199" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21201" href="#22019" class="Function">fmap</a> <a id="21206" class="Symbol">(</a><a id="21207" href="#22019" class="Function">fmap</a> <a id="21212" href="#20842" class="Bound">f</a><a id="21213" class="Symbol">)</a>
      <a id="21221" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="21227" class="Symbol">;</a> <a id="21229" href="#4294" class="Field">unitʳ</a> <a id="21235" class="Symbol">=</a>
      <a id="21243" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="21257" href="#22090" class="Function">mult</a> <a id="21262" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21264" href="#22019" class="Function">fmap</a> <a id="21269" href="#20061" class="Bound">unit</a>       <a id="21280" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21292" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21295" href="#20077" class="Bound Operator">⋆</a> <a id="21297" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21299" class="Symbol">(</a><a id="21300" href="#20061" class="Bound">unit</a> <a id="21305" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21307" href="#20061" class="Bound">unit</a><a id="21311" class="Symbol">)</a><a id="21312" href="#20077" class="Bound Operator">⋆</a>  <a id="21315" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21318" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="21322" href="#20154" class="Bound">ext-assoc</a> <a id="21332" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21342" class="Symbol">(</a><a id="21343" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21346" href="#20077" class="Bound Operator">⋆</a> <a id="21348" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21350" href="#20061" class="Bound">unit</a> <a id="21355" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21357" href="#20061" class="Bound">unit</a><a id="21361" class="Symbol">)</a><a id="21362" href="#20077" class="Bound Operator">⋆</a>  <a id="21365" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21368" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="21373" class="Symbol">(λ</a> <a id="21376" href="#21376" class="Bound">h</a> <a id="21378" class="Symbol">→</a> <a id="21380" class="Symbol">(</a><a id="21381" href="#21376" class="Bound">h</a> <a id="21383" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21385" href="#20061" class="Bound">unit</a><a id="21389" class="Symbol">)</a><a id="21390" href="#20077" class="Bound Operator">⋆</a><a id="21391" class="Symbol">)</a> <a id="21393" href="#20126" class="Bound">ext-unitʳ</a> <a id="21403" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21413" class="Symbol">(</a><a id="21414" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21417" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21419" href="#20061" class="Bound">unit</a><a id="21423" class="Symbol">)</a><a id="21424" href="#20077" class="Bound Operator">⋆</a>           <a id="21436" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21448" href="#20061" class="Bound">unit</a> <a id="21453" href="#20077" class="Bound Operator">⋆</a>                 <a id="21471" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21474" href="#20098" class="Bound">ext-unitˡ</a> <a id="21484" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21494" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="21503" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="21509" class="Symbol">;</a> <a id="21511" href="#4247" class="Field">unitˡ</a> <a id="21517" class="Symbol">=</a>
      <a id="21525" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="21539" href="#22090" class="Function">mult</a> <a id="21544" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21546" href="#20061" class="Bound">unit</a>                <a id="21566" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21578" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21581" href="#20077" class="Bound Operator">⋆</a> <a id="21583" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21585" href="#20061" class="Bound">unit</a>                <a id="21605" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21608" href="#20126" class="Bound">ext-unitʳ</a> <a id="21618" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21628" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="21637" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="21643" class="Symbol">;</a> <a id="21645" href="#4346" class="Field">assoc</a> <a id="21651" class="Symbol">=</a>
      <a id="21659" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="21673" href="#22090" class="Function">mult</a> <a id="21678" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21680" href="#22019" class="Function">fmap</a> <a id="21685" href="#22090" class="Function">mult</a>             <a id="21702" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21714" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21717" href="#20077" class="Bound Operator">⋆</a> <a id="21719" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21721" class="Symbol">(</a><a id="21722" href="#20061" class="Bound">unit</a> <a id="21727" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21729" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21732" href="#20077" class="Bound Operator">⋆</a><a id="21733" class="Symbol">)</a><a id="21734" href="#20077" class="Bound Operator">⋆</a>        <a id="21743" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21746" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="21750" href="#20154" class="Bound">ext-assoc</a> <a id="21760" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21770" class="Symbol">(</a><a id="21771" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21774" href="#20077" class="Bound Operator">⋆</a> <a id="21776" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21778" href="#20061" class="Bound">unit</a> <a id="21783" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21785" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21788" href="#20077" class="Bound Operator">⋆</a><a id="21789" class="Symbol">)</a><a id="21790" href="#20077" class="Bound Operator">⋆</a>        <a id="21799" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21802" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="21807" class="Symbol">(λ</a> <a id="21810" href="#21810" class="Bound">h</a> <a id="21812" class="Symbol">→</a> <a id="21814" class="Symbol">(</a><a id="21815" href="#21810" class="Bound">h</a> <a id="21817" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21819" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21822" href="#20077" class="Bound Operator">⋆</a><a id="21823" class="Symbol">)</a><a id="21824" href="#20077" class="Bound Operator">⋆</a><a id="21825" class="Symbol">)</a> <a id="21827" href="#20126" class="Bound">ext-unitʳ</a> <a id="21837" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21847" class="Symbol">(</a><a id="21848" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21851" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21853" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21856" href="#20077" class="Bound Operator">⋆</a><a id="21857" class="Symbol">)</a><a id="21858" href="#20077" class="Bound Operator">⋆</a>                 <a id="21876" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21888" class="Symbol">(</a><a id="21889" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21892" href="#20077" class="Bound Operator">⋆</a> <a id="21894" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21896" href="/lagda/Function.Base.html#615" class="Function">id</a><a id="21898" class="Symbol">)</a><a id="21899" href="#20077" class="Bound Operator">⋆</a>                 <a id="21917" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="21920" href="#20154" class="Bound">ext-assoc</a> <a id="21930" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="21940" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21943" href="#20077" class="Bound Operator">⋆</a> <a id="21945" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21947" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="21950" href="#20077" class="Bound Operator">⋆</a>                  <a id="21969" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="21981" href="#22090" class="Function">mult</a> <a id="21986" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="21988" href="#22090" class="Function">mult</a>
      <a id="21999" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="22005" class="Symbol">}</a>
  <a id="22009" class="Keyword">where</a>
    <a id="22019" href="#22019" class="Function">fmap</a> <a id="22024" class="Symbol">:</a> <a id="22026" class="Symbol">{</a><a id="22027" href="#22027" class="Bound">A</a> <a id="22029" href="#22029" class="Bound">B</a> <a id="22031" class="Symbol">:</a> <a id="22033" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="22036" class="Symbol">}</a> <a id="22038" class="Symbol">→</a> <a id="22040" class="Symbol">(</a><a id="22041" href="#22027" class="Bound">A</a> <a id="22043" class="Symbol">→</a> <a id="22045" href="#22029" class="Bound">B</a><a id="22046" class="Symbol">)</a> <a id="22048" class="Symbol">→</a> <a id="22050" href="#20036" class="Bound">M</a> <a id="22052" href="#22027" class="Bound">A</a> <a id="22054" class="Symbol">→</a> <a id="22056" href="#20036" class="Bound">M</a> <a id="22058" href="#22029" class="Bound">B</a>
    <a id="22064" href="#22019" class="Function">fmap</a> <a id="22069" href="#22069" class="Bound">f</a> <a id="22071" class="Symbol">=</a> <a id="22073" class="Symbol">(</a><a id="22074" href="#20061" class="Bound">unit</a> <a id="22079" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="22081" href="#22069" class="Bound">f</a><a id="22082" class="Symbol">)</a> <a id="22084" href="#20077" class="Bound Operator">⋆</a>
    <a id="22090" href="#22090" class="Function">mult</a> <a id="22095" class="Symbol">:</a> <a id="22097" class="Symbol">{</a><a id="22098" href="#22098" class="Bound">A</a> <a id="22100" class="Symbol">:</a> <a id="22102" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="22105" class="Symbol">}</a> <a id="22107" class="Symbol">→</a> <a id="22109" href="#20036" class="Bound">M</a> <a id="22111" class="Symbol">(</a><a id="22112" href="#20036" class="Bound">M</a> <a id="22114" href="#22098" class="Bound">A</a><a id="22115" class="Symbol">)</a> <a id="22117" class="Symbol">→</a> <a id="22119" href="#20036" class="Bound">M</a> <a id="22121" href="#22098" class="Bound">A</a>
    <a id="22127" href="#22090" class="Function">mult</a> <a id="22132" class="Symbol">=</a> <a id="22134" href="/lagda/Function.Base.html#615" class="Function">id</a> <a id="22137" href="#20077" class="Bound Operator">⋆</a>
</pre>
<p>Yes, I know that</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ProgMon→MathMon</code> and <code class="language-plaintext highlighter-rouge">MathMon→KlslMon</code> together imply <code class="language-plaintext highlighter-rouge">ProgMon→KlslMon</code></li>
  <li><code class="language-plaintext highlighter-rouge">KlslMon→MathMon</code> and <code class="language-plaintext highlighter-rouge">MathMon→ProgMon</code> together imply <code class="language-plaintext highlighter-rouge">KlslMon→ProgMon</code></li>
</ul>

<p>but we’re on a roll..</p>

<pre class="Agda"><a id="ProgMon→KlslMon"></a><a id="22344" href="#22344" class="Function">ProgMon→KlslMon</a> <a id="22360" class="Symbol">:</a> <a id="22362" class="Symbol">{</a><a id="22363" href="#22363" class="Bound">M</a> <a id="22365" class="Symbol">:</a> <a id="22367" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="22371" class="Symbol">→</a> <a id="22373" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="22376" class="Symbol">}</a> <a id="22378" class="Symbol">→</a> <a id="22380" href="#5150" class="Record">ProgMon</a> <a id="22388" href="#22363" class="Bound">M</a> <a id="22390" class="Symbol">→</a> <a id="22392" href="#17335" class="Record">KlslMon</a> <a id="22400" href="#22363" class="Bound">M</a>
<a id="22402" href="#22344" class="Function">ProgMon→KlslMon</a> <a id="22418" class="Symbol">{</a><a id="22419" href="#22419" class="Bound">M</a><a id="22420" class="Symbol">}</a>
  <a id="22424" class="Keyword">record</a>
    <a id="22435" class="Symbol">{</a> <a id="22437" href="#5199" class="Field">return</a> <a id="22444" class="Symbol">=</a> <a id="22446" href="#22446" class="Bound">return</a>
    <a id="22457" class="Symbol">;</a> <a id="22459" href="#5233" class="Field Operator">_&gt;&gt;=_</a> <a id="22465" class="Symbol">=</a> <a id="22467" href="#22467" class="Bound Operator">_&gt;&gt;=_</a>
    <a id="22477" class="Symbol">;</a> <a id="22479" href="#5300" class="Field">unitˡ</a> <a id="22485" class="Symbol">=</a> <a id="22487" href="#22487" class="Bound">unitˡ</a>
    <a id="22497" class="Symbol">;</a> <a id="22499" href="#5379" class="Field">unitʳ</a> <a id="22505" class="Symbol">=</a> <a id="22507" href="#22507" class="Bound">unitʳ</a>
    <a id="22517" class="Symbol">;</a> <a id="22519" href="#5438" class="Field">assoc</a> <a id="22525" class="Symbol">=</a> <a id="22527" href="#22527" class="Bound">assoc</a>
    <a id="22537" class="Symbol">}</a>
  <a id="22541" class="Symbol">=</a>
  <a id="22545" class="Keyword">record</a>
    <a id="22556" class="Symbol">{</a> <a id="22558" href="#17384" class="Field">unit</a> <a id="22563" class="Symbol">=</a> <a id="22565" href="#23500" class="Function">unit</a>
    <a id="22574" class="Symbol">;</a> <a id="22576" href="#17416" class="Field Operator">_⋆</a> <a id="22579" class="Symbol">=</a> <a id="22581" href="#23550" class="Function Operator">_⋆</a>
    <a id="22588" class="Symbol">;</a> <a id="22590" href="#17487" class="Field">ext-unitˡ</a> <a id="22600" class="Symbol">=</a> <a id="22602" class="Symbol">λ</a> <a id="22604" class="Symbol">{</a><a id="22605" href="#22605" class="Bound">_</a><a id="22606" class="Symbol">}</a> <a id="22608" class="Symbol">→</a>
      <a id="22616" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="22630" class="Symbol">(</a><a id="22631" href="#23500" class="Function">unit</a> <a id="22636" href="#23550" class="Function Operator">⋆</a><a id="22637" class="Symbol">)</a> <a id="22639" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="22651" class="Symbol">(λ</a> <a id="22654" href="#22654" class="Bound">x</a> <a id="22656" class="Symbol">→</a> <a id="22658" class="Symbol">(</a><a id="22659" href="#23500" class="Function">unit</a> <a id="22664" href="#23550" class="Function Operator">⋆</a><a id="22665" class="Symbol">)</a> <a id="22667" href="#22654" class="Bound">x</a><a id="22668" class="Symbol">)</a>    <a id="22673" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="22685" class="Symbol">(λ</a> <a id="22688" href="#22688" class="Bound">x</a> <a id="22690" class="Symbol">→</a> <a id="22692" href="#22688" class="Bound">x</a> <a id="22694" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="22698" href="#22446" class="Bound">return</a><a id="22704" class="Symbol">)</a>  <a id="22707" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="22710" href="#8104" class="Postulate">ext</a> <a id="22714" href="#22507" class="Bound">unitʳ</a> <a id="22720" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="22730" class="Symbol">(λ</a> <a id="22733" href="#22733" class="Bound">x</a> <a id="22735" class="Symbol">→</a> <a id="22737" href="#22733" class="Bound">x</a><a id="22738" class="Symbol">)</a>             <a id="22752" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="22764" href="/lagda/Function.Base.html#615" class="Function">id</a>
      <a id="22773" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="22779" class="Symbol">;</a> <a id="22781" href="#17541" class="Field">ext-unitʳ</a> <a id="22791" class="Symbol">=</a> <a id="22793" class="Symbol">λ</a> <a id="22795" class="Symbol">{</a><a id="22796" href="#22796" class="Bound">_</a><a id="22797" class="Symbol">}</a> <a id="22799" class="Symbol">{</a><a id="22800" href="#22800" class="Bound">_</a><a id="22801" class="Symbol">}</a> <a id="22803" class="Symbol">{</a><a id="22804" href="#22804" class="Bound">f</a><a id="22805" class="Symbol">}</a> <a id="22807" class="Symbol">→</a>
      <a id="22815" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="22829" class="Symbol">(</a><a id="22830" href="#22804" class="Bound">f</a> <a id="22832" href="#23550" class="Function Operator">⋆</a><a id="22833" class="Symbol">)</a> <a id="22835" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="22837" href="#23500" class="Function">unit</a> <a id="22842" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="22854" class="Symbol">(λ</a> <a id="22857" href="#22857" class="Bound">x</a> <a id="22859" class="Symbol">→</a> <a id="22861" class="Symbol">((</a><a id="22863" href="#22804" class="Bound">f</a> <a id="22865" href="#23550" class="Function Operator">⋆</a><a id="22866" class="Symbol">)</a> <a id="22868" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="22870" href="#23500" class="Function">unit</a><a id="22874" class="Symbol">)</a> <a id="22876" href="#22857" class="Bound">x</a><a id="22877" class="Symbol">)</a>  <a id="22880" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="22892" class="Symbol">(λ</a> <a id="22895" href="#22895" class="Bound">x</a> <a id="22897" class="Symbol">→</a> <a id="22899" class="Symbol">(</a><a id="22900" href="#22446" class="Bound">return</a> <a id="22907" href="#22895" class="Bound">x</a><a id="22908" class="Symbol">)</a> <a id="22910" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="22914" href="#22804" class="Bound">f</a><a id="22915" class="Symbol">)</a>  <a id="22918" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="22921" href="#8104" class="Postulate">ext</a> <a id="22925" href="#22487" class="Bound">unitˡ</a> <a id="22931" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="22941" class="Symbol">(λ</a> <a id="22944" href="#22944" class="Bound">x</a> <a id="22946" class="Symbol">→</a> <a id="22948" href="#22804" class="Bound">f</a> <a id="22950" href="#22944" class="Bound">x</a><a id="22951" class="Symbol">)</a>               <a id="22967" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="22979" href="#22804" class="Bound">f</a>
      <a id="22987" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="22993" class="Symbol">;</a> <a id="22995" href="#17610" class="Field">ext-assoc</a> <a id="23005" class="Symbol">=</a> <a id="23007" class="Symbol">λ</a> <a id="23009" class="Symbol">{</a><a id="23010" href="#23010" class="Bound">_</a><a id="23011" class="Symbol">}</a> <a id="23013" class="Symbol">{</a><a id="23014" href="#23014" class="Bound">_</a><a id="23015" class="Symbol">}</a> <a id="23017" class="Symbol">{</a><a id="23018" href="#23018" class="Bound">_</a><a id="23019" class="Symbol">}</a> <a id="23021" class="Symbol">{</a><a id="23022" href="#23022" class="Bound">f</a><a id="23023" class="Symbol">}</a> <a id="23025" class="Symbol">{</a><a id="23026" href="#23026" class="Bound">g</a><a id="23027" class="Symbol">}</a> <a id="23029" class="Symbol">→</a>
      <a id="23037" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="23051" class="Symbol">(((</a><a id="23054" href="#23026" class="Bound">g</a> <a id="23056" href="#23550" class="Function Operator">⋆</a><a id="23057" class="Symbol">)</a> <a id="23059" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="23061" href="#23022" class="Bound">f</a><a id="23062" class="Symbol">)</a> <a id="23064" href="#23550" class="Function Operator">⋆</a><a id="23065" class="Symbol">)</a>                      <a id="23088" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23100" class="Symbol">(λ</a> <a id="23103" href="#23103" class="Bound">x</a> <a id="23105" class="Symbol">→</a> <a id="23107" class="Symbol">(((</a><a id="23110" href="#23026" class="Bound">g</a> <a id="23112" href="#23550" class="Function Operator">⋆</a><a id="23113" class="Symbol">)</a> <a id="23115" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="23117" href="#23022" class="Bound">f</a><a id="23118" class="Symbol">)</a> <a id="23120" href="#23550" class="Function Operator">⋆</a><a id="23121" class="Symbol">)</a> <a id="23123" href="#23103" class="Bound">x</a><a id="23124" class="Symbol">)</a>            <a id="23137" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23149" class="Symbol">(λ</a> <a id="23152" href="#23152" class="Bound">x</a> <a id="23154" class="Symbol">→</a> <a id="23156" href="#23152" class="Bound">x</a> <a id="23158" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23162" class="Symbol">((</a><a id="23164" href="#23026" class="Bound">g</a> <a id="23166" href="#23550" class="Function Operator">⋆</a><a id="23167" class="Symbol">)</a> <a id="23169" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="23171" href="#23022" class="Bound">f</a><a id="23172" class="Symbol">))</a>            <a id="23186" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23198" class="Symbol">(λ</a> <a id="23201" href="#23201" class="Bound">x</a> <a id="23203" class="Symbol">→</a> <a id="23205" href="#23201" class="Bound">x</a> <a id="23207" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23211" class="Symbol">(λ</a> <a id="23214" href="#23214" class="Bound">y</a> <a id="23216" class="Symbol">→</a> <a id="23218" class="Symbol">((</a><a id="23220" href="#23026" class="Bound">g</a> <a id="23222" href="#23550" class="Function Operator">⋆</a><a id="23223" class="Symbol">)</a> <a id="23225" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="23227" href="#23022" class="Bound">f</a><a id="23228" class="Symbol">)</a> <a id="23230" href="#23214" class="Bound">y</a><a id="23231" class="Symbol">))</a>  <a id="23235" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23247" class="Symbol">(λ</a> <a id="23250" href="#23250" class="Bound">x</a> <a id="23252" class="Symbol">→</a> <a id="23254" href="#23250" class="Bound">x</a> <a id="23256" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23260" class="Symbol">(λ</a> <a id="23263" href="#23263" class="Bound">y</a> <a id="23265" class="Symbol">→</a> <a id="23267" class="Symbol">(</a><a id="23268" href="#23022" class="Bound">f</a> <a id="23270" href="#23263" class="Bound">y</a><a id="23271" class="Symbol">)</a> <a id="23273" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23277" href="#23026" class="Bound">g</a><a id="23278" class="Symbol">))</a>    <a id="23284" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="23287" href="#8104" class="Postulate">ext</a> <a id="23291" class="Symbol">(</a><a id="23292" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="23296" href="#22527" class="Bound">assoc</a><a id="23301" class="Symbol">)</a> <a id="23303" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="23313" class="Symbol">(λ</a> <a id="23316" href="#23316" class="Bound">x</a> <a id="23318" class="Symbol">→</a> <a id="23320" class="Symbol">(</a><a id="23321" href="#23316" class="Bound">x</a> <a id="23323" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23327" href="#23022" class="Bound">f</a><a id="23328" class="Symbol">)</a> <a id="23330" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23334" href="#23026" class="Bound">g</a><a id="23335" class="Symbol">)</a>              <a id="23350" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23362" class="Symbol">(λ</a> <a id="23365" href="#23365" class="Bound">x</a> <a id="23367" class="Symbol">→</a> <a id="23369" class="Symbol">(</a><a id="23370" href="#23026" class="Bound">g</a> <a id="23372" href="#23550" class="Function Operator">⋆</a><a id="23373" class="Symbol">)</a> <a id="23375" class="Symbol">(</a><a id="23376" href="#23365" class="Bound">x</a> <a id="23378" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23382" href="#23022" class="Bound">f</a><a id="23383" class="Symbol">))</a>              <a id="23399" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23411" class="Symbol">(λ</a> <a id="23414" href="#23414" class="Bound">x</a> <a id="23416" class="Symbol">→</a> <a id="23418" class="Symbol">((</a><a id="23420" href="#23026" class="Bound">g</a> <a id="23422" href="#23550" class="Function Operator">⋆</a><a id="23423" class="Symbol">)</a> <a id="23425" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="23427" class="Symbol">(</a><a id="23428" href="#23022" class="Bound">f</a> <a id="23430" href="#23550" class="Function Operator">⋆</a><a id="23431" class="Symbol">))</a> <a id="23434" href="#23414" class="Bound">x</a><a id="23435" class="Symbol">)</a>            <a id="23448" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23460" class="Symbol">(</a><a id="23461" href="#23026" class="Bound">g</a> <a id="23463" href="#23550" class="Function Operator">⋆</a><a id="23464" class="Symbol">)</a> <a id="23466" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="23468" class="Symbol">(</a><a id="23469" href="#23022" class="Bound">f</a> <a id="23471" href="#23550" class="Function Operator">⋆</a><a id="23472" class="Symbol">)</a>
      <a id="23480" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="23486" class="Symbol">}</a>
  <a id="23490" class="Keyword">where</a>
    <a id="23500" href="#23500" class="Function">unit</a> <a id="23505" class="Symbol">:</a> <a id="23507" class="Symbol">{</a><a id="23508" href="#23508" class="Bound">A</a> <a id="23510" class="Symbol">:</a> <a id="23512" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="23515" class="Symbol">}</a> <a id="23517" class="Symbol">→</a> <a id="23519" href="#23508" class="Bound">A</a> <a id="23521" class="Symbol">-&gt;</a> <a id="23524" href="#22419" class="Bound">M</a> <a id="23526" href="#23508" class="Bound">A</a>
    <a id="23532" href="#23500" class="Function">unit</a> <a id="23537" class="Symbol">=</a> <a id="23539" href="#22446" class="Bound">return</a>
    <a id="23550" href="#23550" class="Function Operator">_⋆</a> <a id="23553" class="Symbol">:</a> <a id="23555" class="Symbol">{</a><a id="23556" href="#23556" class="Bound">A</a> <a id="23558" href="#23558" class="Bound">B</a> <a id="23560" class="Symbol">:</a> <a id="23562" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="23565" class="Symbol">}</a> <a id="23567" class="Symbol">→</a> <a id="23569" class="Symbol">(</a><a id="23570" href="#23556" class="Bound">A</a> <a id="23572" class="Symbol">→</a> <a id="23574" href="#22419" class="Bound">M</a> <a id="23576" href="#23558" class="Bound">B</a><a id="23577" class="Symbol">)</a> <a id="23579" class="Symbol">→</a> <a id="23581" class="Symbol">(</a><a id="23582" href="#22419" class="Bound">M</a> <a id="23584" href="#23556" class="Bound">A</a> <a id="23586" class="Symbol">→</a> <a id="23588" href="#22419" class="Bound">M</a> <a id="23590" href="#23558" class="Bound">B</a><a id="23591" class="Symbol">)</a>
    <a id="23597" href="#23550" class="Function Operator">_⋆</a> <a id="23600" href="#23600" class="Bound">f</a> <a id="23602" href="#23602" class="Bound">x</a> <a id="23604" class="Symbol">=</a> <a id="23606" href="#23602" class="Bound">x</a> <a id="23608" href="#22467" class="Bound Operator">&gt;&gt;=</a> <a id="23612" href="#23600" class="Bound">f</a>

</pre>
<pre class="Agda"><a id="KlslMon→ProgMon"></a><a id="23628" href="#23628" class="Function">KlslMon→ProgMon</a> <a id="23644" class="Symbol">:</a> <a id="23646" class="Symbol">{</a><a id="23647" href="#23647" class="Bound">M</a> <a id="23649" class="Symbol">:</a> <a id="23651" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a> <a id="23655" class="Symbol">→</a> <a id="23657" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="23660" class="Symbol">}</a> <a id="23662" class="Symbol">→</a> <a id="23664" href="#17335" class="Record">KlslMon</a> <a id="23672" href="#23647" class="Bound">M</a> <a id="23674" class="Symbol">→</a> <a id="23676" href="#5150" class="Record">ProgMon</a> <a id="23684" href="#23647" class="Bound">M</a>
<a id="23686" href="#23628" class="Function">KlslMon→ProgMon</a> <a id="23702" class="Symbol">{</a><a id="23703" href="#23703" class="Bound">M</a><a id="23704" class="Symbol">}</a>
  <a id="23708" class="Keyword">record</a>
    <a id="23719" class="Symbol">{</a> <a id="23721" href="#17384" class="Field">unit</a> <a id="23726" class="Symbol">=</a> <a id="23728" href="#23728" class="Bound">unit</a>
    <a id="23737" class="Symbol">;</a> <a id="23739" href="#17416" class="Field Operator">_⋆</a> <a id="23742" class="Symbol">=</a> <a id="23744" href="#23744" class="Bound Operator">_⋆</a>
    <a id="23751" class="Symbol">;</a> <a id="23753" href="#17487" class="Field">ext-unitˡ</a> <a id="23763" class="Symbol">=</a> <a id="23765" href="#23765" class="Bound">ext-unitˡ</a>
    <a id="23779" class="Symbol">;</a> <a id="23781" href="#17541" class="Field">ext-unitʳ</a> <a id="23791" class="Symbol">=</a> <a id="23793" href="#23793" class="Bound">ext-unitʳ</a>
    <a id="23807" class="Symbol">;</a> <a id="23809" href="#17610" class="Field">ext-assoc</a> <a id="23819" class="Symbol">=</a> <a id="23821" href="#23821" class="Bound">ext-assoc</a>
    <a id="23835" class="Symbol">}</a>
  <a id="23839" class="Symbol">=</a>
  <a id="23843" class="Keyword">record</a>
    <a id="23854" class="Symbol">{</a> <a id="23856" href="#5199" class="Field">return</a> <a id="23863" class="Symbol">=</a> <a id="23865" href="#24559" class="Function">return</a>
    <a id="23876" class="Symbol">;</a> <a id="23878" href="#5233" class="Field Operator">_&gt;&gt;=_</a> <a id="23884" class="Symbol">=</a> <a id="23886" href="#24611" class="Function Operator">_&gt;&gt;=_</a>
    <a id="23896" class="Symbol">;</a> <a id="23898" href="#5300" class="Field">unitˡ</a> <a id="23904" class="Symbol">=</a> <a id="23906" class="Symbol">λ</a> <a id="23908" class="Symbol">{</a><a id="23909" href="#23909" class="Bound">_</a><a id="23910" class="Symbol">}</a> <a id="23912" class="Symbol">{</a><a id="23913" href="#23913" class="Bound">_</a><a id="23914" class="Symbol">}</a> <a id="23916" class="Symbol">{</a><a id="23917" href="#23917" class="Bound">x</a><a id="23918" class="Symbol">}</a> <a id="23920" class="Symbol">{</a><a id="23921" href="#23921" class="Bound">f</a><a id="23922" class="Symbol">}</a> <a id="23924" class="Symbol">→</a>
      <a id="23932" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="23946" class="Symbol">(</a><a id="23947" href="#24559" class="Function">return</a> <a id="23954" href="#23917" class="Bound">x</a> <a id="23956" href="#24611" class="Function Operator">&gt;&gt;=</a> <a id="23960" href="#23921" class="Bound">f</a><a id="23961" class="Symbol">)</a>  <a id="23964" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="23976" class="Symbol">(</a><a id="23977" href="#23921" class="Bound">f</a> <a id="23979" href="#23744" class="Bound Operator">⋆</a><a id="23980" class="Symbol">)</a> <a id="23982" class="Symbol">(</a><a id="23983" href="#23728" class="Bound">unit</a> <a id="23988" href="#23917" class="Bound">x</a><a id="23989" class="Symbol">)</a>    <a id="23994" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="24006" class="Symbol">((</a><a id="24008" href="#23921" class="Bound">f</a> <a id="24010" href="#23744" class="Bound Operator">⋆</a><a id="24011" class="Symbol">)</a> <a id="24013" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="24015" href="#23728" class="Bound">unit</a><a id="24019" class="Symbol">)</a> <a id="24021" href="#23917" class="Bound">x</a>  <a id="24024" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="24027" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="24036" href="#23793" class="Bound">ext-unitʳ</a> <a id="24046" href="#23917" class="Bound">x</a> <a id="24048" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="24058" href="#23921" class="Bound">f</a> <a id="24060" href="#23917" class="Bound">x</a>
      <a id="24068" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="24074" class="Symbol">;</a> <a id="24076" href="#5379" class="Field">unitʳ</a> <a id="24082" class="Symbol">=</a> <a id="24084" class="Symbol">λ</a> <a id="24086" class="Symbol">{</a><a id="24087" href="#24087" class="Bound">_</a><a id="24088" class="Symbol">}</a> <a id="24090" class="Symbol">{</a><a id="24091" href="#24091" class="Bound">m</a><a id="24092" class="Symbol">}</a> <a id="24094" class="Symbol">→</a>
      <a id="24102" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="24116" class="Symbol">(</a><a id="24117" href="#24091" class="Bound">m</a> <a id="24119" href="#24611" class="Function Operator">&gt;&gt;=</a> <a id="24123" href="#23728" class="Bound">unit</a><a id="24127" class="Symbol">)</a> <a id="24129" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="24141" class="Symbol">(</a><a id="24142" href="#23728" class="Bound">unit</a> <a id="24147" href="#23744" class="Bound Operator">⋆</a><a id="24148" class="Symbol">)</a> <a id="24150" href="#24091" class="Bound">m</a>   <a id="24154" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="24157" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="24166" href="#23765" class="Bound">ext-unitˡ</a> <a id="24176" href="#24091" class="Bound">m</a> <a id="24178" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="24188" href="#24091" class="Bound">m</a>
      <a id="24196" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="24202" class="Symbol">;</a> <a id="24204" href="#5438" class="Field">assoc</a> <a id="24210" class="Symbol">=</a> <a id="24212" class="Symbol">λ</a> <a id="24214" class="Symbol">{</a><a id="24215" href="#24215" class="Bound">_</a><a id="24216" class="Symbol">}</a> <a id="24218" class="Symbol">{</a><a id="24219" href="#24219" class="Bound">_</a><a id="24220" class="Symbol">}</a> <a id="24222" class="Symbol">{</a><a id="24223" href="#24223" class="Bound">_</a><a id="24224" class="Symbol">}</a> <a id="24226" class="Symbol">{</a><a id="24227" href="#24227" class="Bound">m</a><a id="24228" class="Symbol">}</a> <a id="24230" class="Symbol">{</a><a id="24231" href="#24231" class="Bound">f</a><a id="24232" class="Symbol">}</a> <a id="24234" class="Symbol">{</a><a id="24235" href="#24235" class="Bound">g</a><a id="24236" class="Symbol">}</a> <a id="24238" class="Symbol">→</a>
      <a id="24246" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="24260" class="Symbol">((</a><a id="24262" href="#24227" class="Bound">m</a> <a id="24264" href="#24611" class="Function Operator">&gt;&gt;=</a> <a id="24268" href="#24231" class="Bound">f</a><a id="24269" class="Symbol">)</a> <a id="24271" href="#24611" class="Function Operator">&gt;&gt;=</a> <a id="24275" href="#24235" class="Bound">g</a><a id="24276" class="Symbol">)</a>              <a id="24291" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="24303" class="Symbol">(</a><a id="24304" href="#24235" class="Bound">g</a> <a id="24306" href="#23744" class="Bound Operator">⋆</a><a id="24307" class="Symbol">)</a> <a id="24309" class="Symbol">((</a><a id="24311" href="#24231" class="Bound">f</a> <a id="24313" href="#23744" class="Bound Operator">⋆</a><a id="24314" class="Symbol">)</a> <a id="24316" href="#24227" class="Bound">m</a><a id="24317" class="Symbol">)</a>                <a id="24334" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="24346" class="Symbol">((</a><a id="24348" href="#24235" class="Bound">g</a> <a id="24350" href="#23744" class="Bound Operator">⋆</a><a id="24351" class="Symbol">)</a> <a id="24353" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="24355" class="Symbol">(</a><a id="24356" href="#24231" class="Bound">f</a> <a id="24358" href="#23744" class="Bound Operator">⋆</a><a id="24359" class="Symbol">))</a> <a id="24362" href="#24227" class="Bound">m</a>              <a id="24377" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="24380" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="24389" class="Symbol">(</a><a id="24390" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="24394" href="#23821" class="Bound">ext-assoc</a><a id="24403" class="Symbol">)</a> <a id="24405" href="#24227" class="Bound">m</a> <a id="24407" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
        <a id="24417" class="Symbol">(((</a><a id="24420" href="#24235" class="Bound">g</a> <a id="24422" href="#23744" class="Bound Operator">⋆</a><a id="24423" class="Symbol">)</a> <a id="24425" href="/lagda/Function.Base.html#1031" class="Function Operator">∘</a> <a id="24427" href="#24231" class="Bound">f</a> <a id="24429" class="Symbol">)</a><a id="24430" href="#23744" class="Bound Operator">⋆</a><a id="24431" class="Symbol">)</a> <a id="24433" href="#24227" class="Bound">m</a>              <a id="24448" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="24460" class="Symbol">((λ</a> <a id="24464" class="Symbol">{</a> <a id="24466" href="#24466" class="Bound">x</a> <a id="24468" class="Symbol">→</a> <a id="24470" class="Symbol">(</a><a id="24471" href="#24235" class="Bound">g</a> <a id="24473" href="#23744" class="Bound Operator">⋆</a><a id="24474" class="Symbol">)</a> <a id="24476" class="Symbol">(</a><a id="24477" href="#24231" class="Bound">f</a> <a id="24479" href="#24466" class="Bound">x</a><a id="24480" class="Symbol">)</a> <a id="24482" class="Symbol">})</a><a id="24484" href="#23744" class="Bound Operator">⋆</a><a id="24485" class="Symbol">)</a> <a id="24487" href="#24227" class="Bound">m</a>   <a id="24491" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
        <a id="24503" class="Symbol">(</a><a id="24504" href="#24227" class="Bound">m</a> <a id="24506" href="#24611" class="Function Operator">&gt;&gt;=</a> <a id="24510" class="Symbol">(λ</a> <a id="24513" class="Symbol">{</a> <a id="24515" href="#24515" class="Bound">x</a> <a id="24517" class="Symbol">→</a> <a id="24519" href="#24231" class="Bound">f</a> <a id="24521" href="#24515" class="Bound">x</a> <a id="24523" href="#24611" class="Function Operator">&gt;&gt;=</a> <a id="24527" href="#24235" class="Bound">g</a> <a id="24529" class="Symbol">}))</a>
      <a id="24539" href="/lagda/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a>
    <a id="24545" class="Symbol">}</a>
  <a id="24549" class="Keyword">where</a>
    <a id="24559" href="#24559" class="Function">return</a> <a id="24566" class="Symbol">:</a> <a id="24568" class="Symbol">{</a><a id="24569" href="#24569" class="Bound">A</a> <a id="24571" class="Symbol">:</a> <a id="24573" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="24576" class="Symbol">}</a> <a id="24578" class="Symbol">→</a> <a id="24580" href="#24569" class="Bound">A</a> <a id="24582" class="Symbol">-&gt;</a> <a id="24585" href="#23703" class="Bound">M</a> <a id="24587" href="#24569" class="Bound">A</a>
    <a id="24593" href="#24559" class="Function">return</a> <a id="24600" class="Symbol">=</a> <a id="24602" href="#23728" class="Bound">unit</a>
    <a id="24611" href="#24611" class="Function Operator">_&gt;&gt;=_</a> <a id="24617" class="Symbol">:</a> <a id="24619" class="Symbol">{</a><a id="24620" href="#24620" class="Bound">A</a> <a id="24622" href="#24622" class="Bound">B</a> <a id="24624" class="Symbol">:</a> <a id="24626" href="/lagda/Agda.Primitive.html#311" class="Primitive">Set</a><a id="24629" class="Symbol">}</a> <a id="24631" class="Symbol">→</a> <a id="24633" href="#23703" class="Bound">M</a> <a id="24635" href="#24620" class="Bound">A</a> <a id="24637" class="Symbol">→</a> <a id="24639" class="Symbol">(</a><a id="24640" href="#24620" class="Bound">A</a> <a id="24642" class="Symbol">→</a> <a id="24644" href="#23703" class="Bound">M</a> <a id="24646" href="#24622" class="Bound">B</a><a id="24647" class="Symbol">)</a> <a id="24649" class="Symbol">-&gt;</a> <a id="24652" href="#23703" class="Bound">M</a> <a id="24654" href="#24622" class="Bound">B</a>
    <a id="24660" href="#24611" class="Function Operator">_&gt;&gt;=_</a> <a id="24666" href="#24666" class="Bound">x</a> <a id="24668" href="#24668" class="Bound">f</a> <a id="24670" class="Symbol">=</a> <a id="24672" class="Symbol">(</a><a id="24673" href="#24668" class="Bound">f</a> <a id="24675" href="#23744" class="Bound Operator">⋆</a><a id="24676" class="Symbol">)</a> <a id="24678" href="#24666" class="Bound">x</a>
</pre>

<h2 id="final-remarks">Final remarks</h2>

<p>I embarked on this endeavor because I could not find an exhaustive treatment of the equivalence of the three definitions.
Having an <em>executable</em> proof which doubles as a reference by spelling out every detail is extremely satisfying to me,
especially because my initial idea was just to throw together some Haskell pseudocode.</p>

<p>Using AGDA is ludicrously empowering! This was my first semi-serious exercise and I loved every part of it.</p>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:dope-mon-types" role="doc-endnote">

      <p>Wanna try it? You will realize that replacing Haskell’s unit <code class="language-plaintext highlighter-rouge">()</code> with an <code class="language-plaintext highlighter-rouge">_</code> brings some typechecking issues.
The simplest solution is replacing <code class="language-plaintext highlighter-rouge">((const x) &gt;=&gt; ?) _</code> with <code class="language-plaintext highlighter-rouge">(id &gt;=&gt; ?) x</code>. <a href="#fnref:dope-mon-types" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</article>
    </main>

    <footer id="footer">
      <nav>
        <a href="/">Back to index.</a>
        <a href="#header">Back to top.</a>
      </nav>
      <div id="intro">This is where i jot down stuff. I am</div>
      <div class="bcard">
        <div class="bcard__photo"></div>
        <div class="bcard__brand">Paolo Brasolin</div>
        <div class="bcard__pitch">Software engineer</div>
        <div class="bcard__links">
          <a href="mailto:paolobrasolin@gmail.com">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
          </a>
          <a href="https://github.com/paolobrasolin/">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
          </a>
          <a href="https://twitter.com/paolobrasolin">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
          </a>
          <a href="https://www.linkedin.com/in/paolobrasolin/">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
          </a>
        </div>
      </div>
      <div id="glyph">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 12">
          <path fill="none" stroke-linejoin="bevel" stroke-width="1" d="M1 7h6v-6h-6v4h4v-2h-2v8h-2v-2h4"/>
        </svg>
      </div>
    </footer>
  </body>
</html>
