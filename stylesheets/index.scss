---
---

@import 'parameters';
@import 'mixins';

nav li:not(.profile) a {
  font-size:   2.5*$font-size;
  line-height: 2.5*$lead;
  font-family: Oswald;
  text-decoration: none;
}

.email span {
  font-size:   1.5*$font-size;
  line-height: 1.5*$lead;
  margin-left: 0.2*$lead;
}

.floater {
  width:  13*$lead;
  height: 13*$lead;
  @include position(absolute, 0, 0, 0, 0);
  margin: auto;
}

.glyph {
  @include position(absolute, 0, 0, auto, auto);
}

nav {
  width: inherit;
  @include position(absolute, auto, auto, 0, 0);
}

li {
  display: block;
}

ul {
  padding: 0;
  margin: 0;
}

.email {
  border-bottom: 0.5*$lead solid $black;
  margin-bottom: 0.5*$lead;
}

.profile a {
  background-size: 1.5*$lead 1.5*$lead;
  width: 1.5*$lead;
  height: 1.5*$lead;
  overflow: hidden; 
  color:transparent;
  float: right;
  margin-left: $lead;
}

.github a {
  background-image: url("../assets/github.svg");
}

.tex-stackexchange a {
  background-image: url("../assets/tex-stackexchange.svg");
}

/* -------------------------------------------------------------------------- */

/* lista di coordinate della griglia 16x16 */
$coordinates:
  11 21 31 41 51 61 71 81 91 A1 B1 C1 D1 E1 F1 G1
  12 22 32 42 52 62 72 82 92 A2 B2 C2 D2 E2 F2 G2
  13 23 33 43 53 63 73 83 93 A3 B3 C3 D3 E3 F3 G3
  14 24 34 44 54 64 74 84 94 A4 B4 C4 D4 E4 F4 G4
  15 25 35 45 55 65 75 85 95 A5 B5 C5 D5 E5 F5 G5
  16 26 36 46 56 66 76 86 96 A6 B6 C6 D6 E6 F6 G6
  17 27 37 47 57 67 77 87 97 A7 B7 C7 D7 E7 F7 G7
  18 28 38 48 58 68 78 88 98 A8 B8 C8 D8 E8 F8 G8
  19 29 39 49 59 69 79 89 99 A9 B9 C9 D9 E9 F9 G9
  1A 2A 3A 4A 5A 6A 7A 8A 9A AA BA CA DA EA FA GA
  1B 2B 3B 4B 5B 6B 7B 8B 9B AB BB CB DB EB FB GB
  1C 2C 3C 4C 5C 6C 7C 8C 9C AC BC CC DC EC FC GC
  1D 2D 3D 4D 5D 6D 7D 8D 9D AD BD CD DD ED FD GD
  1E 2E 3E 4E 5E 6E 7E 8E 9E AE BE CE DE EE FE GE
  1F 2F 3F 4F 5F 6F 7F 8F 9F AF BF CF DF EF FF GF
  1G 2G 3G 4G 5G 6G 7G 8G 9G AG BG CG DG EG FG GG
;

/* contenitore della griglia */
.glyph {
  width:  8*$lead;
  height: 8*$lead;
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
}

/* pixels */
.glyph > div {
  width:  0.5*$lead;
  height: 0.5*$lead;
  background-color: $black;
  animation-duration: 0.8s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-in-out;
}

/* ordinamento righe */
@for $i from 1 through 256 {
  .glyph div:nth-child(#{$i}) {
    order: ceil($i/16);
  }
}

/* ordinamento caporiga */
@for $i from 1 through 15 {
  .glyph div:nth-last-child(#{$i}) {
    order: $i;
    flex-basis: 100%;
    height: 0;
  }
}

/* angoli trasparenti */
$tl-corner: 11 21 31 41 51 12 22 32 13 23 14 15;
$tr-corner: G1 F1 E1 D1 C1 G2 F2 E2 G3 F3 G4 G5;
$br-corner: GG FG EG DG CG GF FF EF GE FE GD GC;
$bl-corner: 1G 2G 3G 4G 5G 1F 2F 3F 1E 2E 1D 1C;

@each $i in join(join($tl-corner, $tr-corner),
                 join($br-corner, $bl-corner)) {
  .glyph div:nth-child(#{index($coordinates, $i)}) {
    background-color: transparent;
  }
}

/* glifo animato */
$glyph: 6A 7A 8A 9A AA BA CA C9 C8 C7 C6 C5
        C4 B4 A4 94 84 74 64 65 66 67 68 78
        88 98 A8 A7 A6 96 86 87/**/89/**/8B
        8C 8D 8E 7E 6E 6D 6C 7C/**/9C AC;

@keyframes pixel {
    0% {background-color: $black;}
   20% {background-color: $black; height: 0;                width: 0;}
   30% {background-color: $white; height: 0.5*$lead; width: 0;}
   80% {background-color: $white; height: 0.5*$lead; width: 0;}
  100% {background-color: $white; height: 0.5*$lead; width: 0.5*$lead;}
}

@for $i from 1 through length($glyph) {
  $p: nth($glyph, $i);
  $n: index($coordinates, $p);
  .glyph div:nth-child(#{$n}) {
    animation-name: pixel;
    animation-delay: #{$i/length($glyph)*1.6+0.8}s;
  }
}
